<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLROjXfSpIU_1TsQlCJ7q4WlXEixY9aqhie8CVYCrTb1E);.lst-kix_list_1-3>li:before{content:"\0025cf   "}.lst-kix_list_1-4>li:before{content:"o  "}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_1-7>li:before{content:"o  "}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_1-6>li:before{content:"\0025cf   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_list_1-3{list-style-type:none}.lst-kix_list_1-0>li:before{content:"-  "}ul.lst-kix_list_1-4{list-style-type:none}.lst-kix_list_1-8>li:before{content:"\0025aa   "}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c0{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:269.1pt;border-top-color:#000000;border-bottom-style:solid}.c10{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:219.7pt;border-top-color:#000000;border-bottom-style:solid}.c21{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c4{padding-top:2pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c15{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c24{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Calibri";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Calibri";font-style:normal}.c19{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9.5pt;font-family:"Consolas";font-style:normal}.c17{padding-top:2pt;padding-bottom:12pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c3{padding-top:3pt;padding-bottom:3pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c7{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c1{background-color:#ffffff;font-size:8pt;font-family:"Consolas";color:#000000;font-weight:400}.c16{background-color:#ffffff;font-size:8pt;font-family:"Consolas";color:#a31515;font-weight:400}.c9{background-color:#ffffff;font-family:"Calibri";color:#000000;font-weight:400}.c26{border-spacing:0;border-collapse:collapse;margin-right:auto}.c11{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c20{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c28{text-decoration:none;vertical-align:baseline;font-style:normal}.c29{font-size:9.5pt;font-family:"Consolas";font-weight:400}.c25{color:inherit;text-decoration:inherit}.c27{padding:0;margin:0}.c6{height:0pt}.c12{padding-left:0pt}.c23{background-color:#fbfcfd}.c18{margin-right:-35.2pt}.c22{background-color:#e7e6e6}.c8{margin-left:36pt}.c14{height:11pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:2pt;color:#2f5496;font-size:13pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c20 doc-content"><h1 class="c21"><span class="c24">Profiles</span></h1><p class="c7"><span class="c5">This tech tip cover profiles and savepoints.</span></p><h2 class="c17"><span class="c15">Overview</span></h2><p class="c7"><span class="c5">A profile allows a player to have different settings than other players. </span></p><p class="c7"><span class="c5">A profile can be used to make the game harder for a skilled player, this way a novice player can enjoy a more balanced experience when playing together. A profile can also be used to adjust the settings according to each family member preference.</span></p><p class="c7"><span class="c5">Only some settings can be customized per profile as determined by each application. For some settings, it does not make sense to have different values per player (like the number of balls per game or the number of credits per game), so these cannot be in the profile.</span></p><p class="c7"><span class="c5">When there is no profile, all the settings are taken from the global settings in the service menu. This is what you get when you choose &lt;None&gt; for the profile.</span></p><p class="c7"><span class="c5">When a profile is active for a player, the settings customizable per profile are taken from the profile, and the other settings are taken from the global settings.</span></p><p class="c7"><span class="c5">The Default Profile is the profile assigned to players that are added with the Start button. The player can change his profile before playing his first ball. It is also possible to add players with a specific profile in the feature menu.</span></p><p class="c7"><span class="c5">When Team Game is enabled, players with the same profile are considered to be in the same team and combine their scores. Team Games are not eligible for achievements like replays or entering high scores. It is possible to have a single player in a team (if none of the other players have the same profile).</span></p><p class="c7"><span class="c5">A savepoint stores the progress of the player within the game up to that point. A savepoint is tied to a specific profile. A profile can have many savepoints except the &lt;None&gt; profile which does not support savepoints. The only time you can save a savepoint is when the ball is pending launch. When saving, you can create a new savepoint or overwrite an existing savepoint.</span></p><p class="c7"><span class="c5">A savepoint can be restored when the ball is pending launch. This restores the progress within the game to the point when the savepoint was saved. The score is restored but the ball number is not affected. If you restore a savepoint on ball 1, you get to play the full 3-ball game. If you restore on ball 2, your progress and your score is replaced by the savepoint and you continue to play from ball 2.</span></p><h2 class="c4"><span class="c15">Feature Menu</span></h2><p class="c7"><span>The feature menu is documented here </span><span class="c11">file:///C:/P3/P3_SDK_V0.8/P3SampleApp/Documentation/html/_additional_platform_features.html#FeatureMenu</span><span class="c5">&nbsp;</span></p><p class="c7"><span class="c5">To display the feature menu, hold one of the lower flipper buttons and press Start. </span></p><p class="c7"><span class="c5">In the simulator, that would be: press a and while still holding a, press s. The feature menu is fully operational when running P3SampleApp in the simulator.</span></p><p class="c7"><span class="c5">Be aware P3SampleApp has some bugs in button legends: the left and right buttons are swapped; and sometimes the buttons are mislabeled (even after considering the swap).</span></p><p class="c7"><span class="c5">In Attract mode, the feature menu lets you:</span></p><ul class="c27 lst-kix_list_1-0 start"><li class="c13 c12 c8 li-bullet-0"><span class="c5">Start a game with a profile</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Set the default profile</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Create a new profile</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Edit the settings for a specific profile</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Reset a profile</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Delete a profile</span></li><li class="c7 c12 c8 li-bullet-0"><span class="c5">Connect Bluetooth Speakers (if USB dongle is installed)</span></li></ul><p class="c7"><span class="c5">On ball 1 pending launch, the feature menu lets you:</span></p><ul class="c27 lst-kix_list_1-0"><li class="c13 c12 c8 li-bullet-0"><span class="c5">Add a player with a profile</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Change profile</span></li><li class="c12 c8 c13 li-bullet-0"><span class="c5">Enable/disable Team Game</span></li><li class="c13 c12 c8 li-bullet-0"><span class="c5">Save/Restore a savepoint</span></li><li class="c7 c12 c8 li-bullet-0"><span class="c5">Remove the last player (you can also press and hold the start button for 2 seconds)</span></li></ul><p class="c7"><span class="c5">On ball 2 or more pending launch, the feature menu lets you:</span></p><ul class="c27 lst-kix_list_1-0"><li class="c13 c12 c8 li-bullet-0"><span class="c5">Save/Restore a savepoint</span></li><li class="c7 c8 c12 li-bullet-0"><span class="c5">Abort the game</span></li></ul><p class="c7"><span class="c5">Note: it is not possible to display the feature menu when the ball is in play.</span></p><p class="c7"><span class="c5">The savepoint options are not available when the player has no profile (&lt;None&gt; profile).</span></p><p class="c7"><span class="c5">You cannot remove a player if there is only one player left.</span></p><p class="c13"><span>The operator can configure the contents of the feature menu by removing some options through some settings. See </span><span class="c11">file:///C:/P3/P3_SDK_V0.8/P3SampleApp/Documentation/html/_persistent_data.html#FeatureMenuGameAttributes</span><span class="c5">&nbsp;</span></p><p class="c13 c14"><span class="c5"></span></p><h2 class="c4"><span class="c15">Stock Profiles</span></h2><p class="c7"><span>A Stock Profile is a set of settings with factory chosen values. For example, a game can define Easy, Medium and Hard stock profiles. See </span><span class="c11">file:///C:/P3/P3_SDK_V0.8/P3SampleApp/Documentation/html/_persistent_data.html#StockProfiles</span><span class="c5">&nbsp;</span></p><p class="c7"><span class="c5">When a regular (non-stock) profile is created, it copies all the profile customizable settings from the base profile:</span></p><p class="c7 c8"><span class="c5">If the game defines no stock profiles, the base profile consists of the global settings. </span></p><p class="c7 c8"><span class="c5">If the game defines a single stock profile, the base profile is that stock profile.</span></p><p class="c7 c8"><span class="c5">If the game defines multiple stock profiles, the player must choose which one serves as the base profile in the menu.</span></p><p class="c7"><span class="c5">The default profile and the currently active profile are not involved in the creation of new profiles.</span></p><p class="c7"><span class="c5">The application decides if an attribute copied from a stock profile is read-only or not.</span></p><p class="c7"><span class="c5">If the game is upgraded and it defines a new profile customizable settings, that settings will be added to the profile when the game accesses it for the first time.</span></p><p class="c7"><span class="c5">The CreateStockProfiles() method in &lt;appcode&gt;GameAttributeManagerMode is where the stock profiles are created. P3SampleApp defines no stock profiles, but the code needed is shown in comments.</span></p><p class="c7"><span class="c5">WAMONH does not define Stock Profiles, so maybe this feature is obsolescent.</span></p><h2 class="c4"><span class="c15">GameAttributes</span></h2><p class="c7"><span>A settings is implemented by a GameAttribute. For more information, see the Tech Tip </span><span class="c11"><a class="c25" href="DeclaringGameAttributes.html">Declaring Game Attributes</a></span><span class="c5">.</span></p><p class="c13"><span class="c5">A GameAttribute is customizable per profile if it has the GameAttributeOptions.ProfileOption.</span></p><p class="c7"><span class="c5">The PRW and PTV constants also include the ProfileOption.</span></p><p class="c7"><span>This example taken from </span><span class="c9">P3SASettingsMode&nbsp;</span><span class="c5">shows how to create a profile settings:</span></p><p class="c7"><span class="c1">InitAttr(37,&nbsp;</span><span class="c16">&quot;BallSaveTime&quot;</span><span class="c1">,&nbsp;</span><span class="c16">&quot;Ball Save Time&quot;</span><span class="c1">,&nbsp;</span><span class="c16">&quot;Ball Save Time&quot;</span><span class="c1">,&nbsp;</span><span class="c16">&quot;Service Menu/Settings/Gameplay/General&quot;</span><span class="c1 c28">, PRW, 15, 0, 20, 1, 15);</span></p><h2 class="c4"><span class="c15">Active Profile</span></h2><p class="c7"><span class="c5">The player&rsquo;s profile is activated when the player becomes active (it is his turn to play).</span></p><p class="c7"><span class="c5">The profile assigned to a player is stored in the Player&rsquo;s Data:</span></p><p class="c7 c18"><span class="c19">string profileName = data.currentPlayer.GetData(ProfileManagerMode.DATAKEY_PROFILE, ProfileManagerMode.NONE_PROFILE);</span></p><p class="c7"><span class="c5">To determine if the player has no profile, compare the name against the &lt;None&gt; profile:</span></p><p class="c7"><span class="c19 c23">if (profileName == ProfileManagerMode.NONE_PROFILE) { &hellip; }</span></p><p class="c7"><span class="c5">Unless you are coding profile management, this is rarely needed. To get the value of a GameAttribute that can vary per profile, simply get the game attribute as usual:</span></p><p class="c7"><span class="c19 c23">int numAliens = data.GetGameAttributeValue(&quot;NumAliens&quot;).ToInt();</span></p><p class="c7"><span class="c5">The attribute is looked up under the profile first, and if not found it is looked up in the global settings.</span></p><h2 class="c4"><span class="c15">Player Name</span></h2><p class="c7"><span class="c5">The player name is the profile name. This can be &lt;None&gt; if the player has no profile. The method returns &quot;PlayerNotInGame&quot; if the player index is &gt;= the number of players in the game.</span></p><p class="c7"><span class="c19">string playerName = data.GetPlayerName(x);</span></p><p class="c7"><span class="c5">The following method variant will return &quot;Player &quot; + (x+1).ToString() instead of returning &lt;None&gt;. This is what the apron display does.</span></p><p class="c7"><span class="c19">string playerName = data.GetPlayerName(x, true);</span></p><p class="c7"><span>The current player number is </span><span class="c29">data.currentPlayerIndex</span><span>, the value ranges from 0 to </span><span class="c19">data.Players.Count &ndash; 1</span></p><h2 class="c4"><span class="c15">Event Profiles</span></h2><p class="c7"><span class="c5">To access Event Profiles, open the service menu, select Statistics, select Create an event profile.</span></p><p class="c7"><span class="c5">The name &ldquo;Event Profile&rdquo; is unfortunate because it has nothing to do with mode to mode events, nor player profiles discussed earlier. Event here means a happening that brings people together, like a pinball convention, a pinball tournament, etc&hellip; Profile here means data that describes the specific attributes, like a population profile.</span></p><p class="c7"><span class="c5">An Event Profile gathers usage statistics for the duration of an event. You can have multiple Event Profiles gathering usage statistics at the same time. The difference with regular statistics is the operator decides when to start and stop collecting data for each Event Profile.</span></p><p class="c7"><span class="c5">Unfortunately, this feature is broken in P3SampleApp because the EventNameEditor prefab is missing. It is also broken in WAMONH 1.0.2.1 probably for the same reason. These are the only two games I tested.</span></p><p class="c7"><span class="c5">&ldquo;For Amusement Only&rdquo; wrote in their release notes they fixed this problem in their games in August 2023. </span></p><h2 class="c4"><span class="c15">Multimorphic Directory</span></h2><p class="c7"><span class="c5">Profiles and savepoints are stored in the .multimorphic directory under the user&rsquo;s home directory. This is also where the high score database, statistics and the module drivers are stored.</span></p><a id="t.d8a1d2366d01b8756c02e7b6c6225cb5e68f9be6"></a><a id="t.0"></a><table class="c26"><tr class="c6"><td class="c0 c22" colspan="1" rowspan="1"><p class="c3"><span class="c2">Path under ~/.multimorphic/P3/</span></p></td><td class="c10 c22" colspan="1" rowspan="1"><p class="c3"><span class="c2">Description</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/&lt;appcode&gt;/EventProfiles/*</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Statistics gathered during an event</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/&lt;appcode&gt;/HighScores.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">High Scores for this app</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/&lt;appcode&gt;/settings.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Global settings for this app</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/&lt;appcode&gt;/Statistics.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Statistics for this app</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/PlayfieldModules/LocalDataModule&lt;ModuleId&gt;LocalSettings.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Simulator storage for settings normally stored on the module USB drive</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/PlayfieldModules/Module&lt;ModuleId&gt;Settings.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Module specific settings stored on the machine</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">Data/Settings.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Global settings for the machine</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">DefaultProfiles/&lt;ProfileName&gt;/&lt;appcode&gt;/settings.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Stock profile for this app</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">ModuleDrivers/&lt;ModuleId&gt;/&lt;version&gt;/&lt;moduleid&gt;-diags-assets</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Diagnostics app for this module</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">ModuleDrivers/&lt;ModuleId&gt;/&lt;version&gt;/&lt;ModuleId&gt;.dll</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Module driver</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">ModuleDrivers/&lt;ModuleId&gt;/&lt;version&gt;/&lt;ModuleId&gt;.json</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Module definition file</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">ModuleDrivers/&lt;ModuleId&gt;/&lt;version&gt;/*</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Module documentation for developers</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">PlayerProfiles/&lt;ProfileName&gt;/&lt;appcode&gt;/Achievements.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Achievements for this profile and app**</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">PlayerProfiles/&lt;ProfileName&gt;/&lt;appcode&gt;/SavedGames/&lt;savepoint&gt;.gamestate</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Savepoint state storage</span></p></td></tr><tr class="c6"><td class="c0" colspan="1" rowspan="1"><p class="c3"><span class="c2">PlayerProfiles/&lt;ProfileName&gt;/&lt;appcode&gt;/settings.db</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c3"><span class="c2">Profile specific settings for this app</span></p></td></tr></table><p class="c7 c14"><span class="c5"></span></p><p class="c7"><span class="c5">** The only profile specific achievement is: &ldquo;100 Games Played&rdquo;.</span></p></body></html>
