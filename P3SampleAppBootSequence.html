<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLUXza5VhXqVC6o75Eld_V98');ol{margin:0;padding:0}table td,table th{padding:0}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c4{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Calibri";font-style:normal}.c6{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c5{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c3{height:11pt}.c1{margin-left:36pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:700;font-size:18pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c5 doc-content"><h1 class="c6"><span class="c4">P3SampleApp Boot Sequence</span></h1><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">Studying the boot sequence is important to learn where a P3 application starts in the code.</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">The boot sequence is necessarily abbreviated because the P3 SDK itself is not open source. There is still a lot of information we can get from the P3SampleApp source code using simple breakpoints.</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">This is the boot sequence when P3SampleApp starts:</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0 c1"><span class="c2">Execution starts on the GUI thread provided by Unity</span></p><p class="c0 c1"><span class="c2">Bootstrap scene is loaded</span></p><p class="c0 c1"><span class="c2">BootstrapSceneController script component is created</span></p><p class="c0 c1"><span class="c2">BootstrapSceneController sets the appCode to P3SA</span></p><p class="c0 c1"><span class="c2">The P3SASetup.prefab is loaded</span></p><p class="c0 c1"><span class="c2">The P3SASetup script component is created</span></p><p class="c0 c1"><span class="c2">The P3SAAudio.prefab is loaded</span></p><p class="c0 c1"><span class="c2">The P3SAAudio script component is created</span></p><p class="c0 c1"><span class="c2">P3Controller is created</span></p><p class="c0 c1"><span class="c2">P3SABaseGameMode is created</span></p><p class="c0 c3 c1"><span class="c2"></span></p><p class="c0 c1"><span class="c2">Execution continues on the mode thread while the GUI thread handles the display</span></p><p class="c0 c1"><span class="c2">P3SABaseGameMode is started</span></p><p class="c0 c1"><span class="c2">AttractMode is started</span></p><p class="c0 c1"><span class="c2">The Attract scene is loaded (by GUI thread)</span></p><p class="c0 c1"><span class="c2">Start button is pressed and a player is added</span></p><p class="c0 c1"><span class="c2">AttractMode stops</span></p><p class="c0 c1"><span class="c2">Game intro plays if applicable</span></p><p class="c0 c1"><span class="c2">HomeMode starts</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">Everything before P3SABaseGameMode is boilerplate.</span></p><p class="c0"><span class="c2">Therefore, when studying a P3 Application, start with P3SABaseGameMode and HomeMode.</span></p><p class="c0"><span class="c2">Afterwards, you can go back to AttractMode.</span></p></body></html>