<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLROjXfSpIU_1TsQlCJ7q4WlXEixY9aqhie8CVYCrTb1E);.lst-kix_list_1-3>li:before{content:"\0025cf   "}.lst-kix_list_1-4>li:before{content:"o  "}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_1-7>li:before{content:"o  "}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_1-6>li:before{content:"\0025cf   "}ul.lst-kix_list_1-3{list-style-type:none}.lst-kix_list_1-0>li:before{content:"-  "}ul.lst-kix_list_1-4{list-style-type:none}.lst-kix_list_1-8>li:before{content:"\0025aa   "}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c10{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:467.5pt;border-top-color:#000000;border-bottom-style:solid}.c22{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Calibri";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Consolas";font-style:normal}.c19{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c24{color:#0000ff;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9.5pt;font-family:"Consolas";font-style:normal}.c32{padding-top:2pt;padding-bottom:12pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c18{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c31{padding-top:6pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c8{padding-top:2pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Calibri";font-style:normal}.c12{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c6{padding-top:12pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c13{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c27{padding-top:6pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c0{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c30{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:center}.c11{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c29{padding-top:6pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c4{font-size:8pt;font-family:"Consolas";color:#000000;font-weight:400}.c23{border-spacing:0;border-collapse:collapse;margin-right:auto}.c16{font-size:8pt;font-family:"Consolas";color:#008000;font-weight:400}.c3{font-size:8pt;font-family:"Consolas";color:#0000ff;font-weight:400}.c33{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c7{font-size:8pt;font-family:"Consolas";color:#a31515;font-weight:400}.c28{text-decoration:none;vertical-align:baseline;font-style:normal}.c17{font-size:8pt;font-family:"Consolas";font-weight:400}.c20{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c34{font-weight:400;font-size:11pt;font-family:"Calibri"}.c26{color:inherit;text-decoration:inherit}.c1{height:0pt}.c9{height:11pt}.c21{margin-left:8.8pt}.c25{height:13pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:2pt;color:#2f5496;font-size:13pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c20 doc-content"><h1 class="c18"><span class="c22">P3SavepointManager</span></h1><h2 class="c32"><span class="c33 c34"><a class="c26" href="https://www.google.com/url?q=https://github.com/clempo2/P3SavepointManager&amp;sa=D&amp;source=editors&amp;ust=1698799983068761&amp;usg=AOvVaw0UkTZM4i1hrzzOanmo6SiP">P3SavepointManager</a></span><span class="c12">&nbsp;is a simple file manager to rename, copy or delete savepoints on the P3. This functionality is missing from the P3 feature menu in the P3 SDK V0.8</span></h2><p class="c30"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 325.88px; height: 492.03px;"><img alt="" src="images/P3SavepointManager.png" style="width: 325.88px; height: 492.03px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c8"><span class="c19">Overview</span></h2><p class="c11"><span>The application is open-source with an MIT license. Download the source code </span><span class="c33"><a class="c26" href="https://www.google.com/url?q=https://github.com/clempo2/P3SavepointManager&amp;sa=D&amp;source=editors&amp;ust=1698799983069544&amp;usg=AOvVaw0iSAse1NyxFRSkQW8EENoM">here</a></span><span class="c12">. To satisfy the implied license of the P3 SDK, the distribution cannot contain any material from the SDK. The distribution contains the new source files and instructions how to recreate the Unity project starting from the sample application P3SampleApp. The steps are restricted to the bare minimum to simplify the task. The result may not be as clean as a self-contained Unity project, but that&rsquo;s the necessary compromise.</span></p><p class="c11"><span class="c12">Building the deployment package produces a certificate good for 3 days. Rebuild the package to get a new certificate good for another 3 days.</span></p><p class="c11"><span class="c12">The application has a single scene with all the functionality implemented in P3SMAttractMode.</span></p><p class="c11"><span class="c12">The implementation is a wizard going from one dialog to the next somewhat like a hierarchical menu.</span></p><h2 class="c8"><span class="c19">Profile Selection</span></h2><p class="c11"><span>The SDK Guide documents how to programmatically handle profiles here </span><span class="c33">file:///C:/P3/P3_SDK_V0.8/P3SampleApp/Documentation/html/_additional_platform_features.html#EventBasedPlayerProfileManagement</span><span class="c12">&nbsp;</span></p><p class="c11"><span class="c12">For example, send the event Evt_ChooseProfile to display a dialog to choose the profile. When the selection is made, the dialog sends the event Evt_ProfileSelectorResult with the chosen profile name in the event object. If the user exits the dialog without making a selection, the dialog sends the event Evt_ProfileSelectorCancelled.</span></p><a id="t.b84746b0bd2cf4b736f61a7d0b327756d755c159"></a><a id="t.0"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c4">AddModeEventHandler(</span><span class="c7">&quot;Evt_ProfileSelectorResult&quot;</span><span class="c2">, ProfileSelectorResultEventHandler, Priority);</span></p><p class="c13"><span class="c4">AddModeEventHandler(</span><span class="c7">&quot;Evt_ProfileSelectorCancelled&quot;</span><span class="c4">, ProfileSelectorCancelledEventHandler, Priority);</span></p></td></tr></table><p class="c15 c9"><span class="c14"></span></p><a id="t.76cbe1e873ee24c25b50c269c39d99f7a52474bc"></a><a id="t.1"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c3">private</span><span class="c4">&nbsp;</span><span class="c3">bool</span><span class="c4">&nbsp;ProfileSelectorResultEventHandler(</span><span class="c3">string</span><span class="c4">&nbsp;evtName, </span><span class="c3">object</span><span class="c2">&nbsp;evtData)</span></p><p class="c5"><span class="c2">{</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">string</span><span class="c4">&nbsp;selection = (</span><span class="c3">string</span><span class="c2">)evtData;</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; CloseDialog(</span><span class="c7">&quot;ProfileDialog&quot;</span><span class="c2">);</span></p><p class="c5 c9"><span class="c2"></span></p><p class="c5"><span class="c2">&nbsp; &nbsp; &nbsp;&hellip;</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; &nbsp;return EVENT_STOP;</span></p><p class="c13"><span class="c4">}</span></p></td></tr></table><p class="c5 c9"><span class="c24"></span></p><a id="t.0bac4d2e85f1172d99f10615b3bfa1d0ba0d9396"></a><a id="t.2"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c3">private</span><span class="c4">&nbsp;</span><span class="c3">bool</span><span class="c4">&nbsp;ProfileSelectorCancelledEventHandler(</span><span class="c3">string</span><span class="c4">&nbsp;evtName, </span><span class="c3">object</span><span class="c2">&nbsp;evtData)</span></p><p class="c5"><span class="c2">{</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; CloseDialog(</span><span class="c7">&quot;ProfileDialog&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; &hellip;</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">return</span><span class="c2">&nbsp;EVENT_STOP;</span></p><p class="c13"><span class="c4">}</span></p></td></tr></table><h2 class="c8 c25"><span class="c19"></span></h2><h2 class="c8"><span class="c19">Selection Dialog</span></h2><p class="c11"><span class="c12">A typical task is to create a list of items, set the list as selector data and then open the dialog to show the list of items. This can be implemented with a selector dialog. P3SavepointManager saves some work and reuses the ProfileDialog for this.</span></p><a id="t.e1a32cef4ffecf82c3e83ffc13cc04b088967a46"></a><a id="t.3"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0 c21"><span class="c4">List&lt;</span><span class="c3">string</span><span class="c4">&gt; list = </span><span class="c3">new</span><span class="c4">&nbsp;List&lt;</span><span class="c3">string</span><span class="c2">&gt;();</span></p><p class="c5 c21"><span class="c4">list.Add(</span><span class="c7">&quot;Choose Action&quot;</span><span class="c2">);</span></p><p class="c5 c21"><span class="c2">list.Add(ACTION_RENAME);</span></p><p class="c5 c21"><span class="c2">list.Add(ACTION_COPY);</span></p><p class="c5 c21"><span class="c2">list.Add(ACTION_DELETE);</span></p><p class="c5 c21"><span class="c2">list.Add(ACTION_EXIT);</span></p><p class="c5 c9 c21"><span class="c2"></span></p><p class="c5 c21"><span class="c4">SetSelectorData(</span><span class="c7">&quot;ProfileSelector&quot;</span><span class="c2">, list);</span></p><p class="c5 c21"><span class="c4">OpenDialog(</span><span class="c7">&quot;ProfileDialog&quot;</span><span class="c2">);</span></p><p class="c5 c9"><span class="c2"></span></p></td></tr></table><p class="c6"><span class="c12">The first list item is the window title. The remaining list items are the choices offered to the user. The response events are the same as above since it is the same dialog (Evt_ProfileSelectorResult and Evt_ProfileSelectorCancelled).</span></p><h2 class="c8"><span class="c19">ConfirmationDialog</span></h2><p class="c11"><span class="c12">The ConfirmationDialog offers a choice between two answers, typically Yes or No. This dialog is less documented in the SDK guide.</span></p><a id="t.ae8e3c6467def5bfc9513bd1b0ea0c7d2442fa00"></a><a id="t.4"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c3">private</span><span class="c4">&nbsp;</span><span class="c3">void</span><span class="c4">&nbsp;PromptForConfirmation(</span><span class="c3">string</span><span class="c2">&nbsp;question)</span></p><p class="c5"><span class="c2">{</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; List&lt;</span><span class="c3">string</span><span class="c4">&gt; list = </span><span class="c3">new</span><span class="c4">&nbsp;List&lt;</span><span class="c3">string</span><span class="c2">&gt;();</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; list.Add(</span><span class="c7">&quot;Confirm&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; list.Add(</span><span class="c7">&quot;Delete &quot; + savepointName + &quot;?&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; list.Add(</span><span class="c7">&quot;No&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; list.Add(</span><span class="c7">&quot;Yes&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; SetSelectorData(</span><span class="c7">&quot;ConfirmationSelector&quot;</span><span class="c2">, list);</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; OpenDialog(</span><span class="c7">&quot;ConfirmationDialog&quot;</span><span class="c2">);</span></p><p class="c13"><span class="c4">}</span></p></td></tr></table><p class="c6"><span class="c12">The first list item is the window title. The second item is the question to display. The third and fourth items are the negative and positive responses. The dialog sends the event Evt_ConfirmationBoxConfirm with the user&rsquo;s decision: the event object equals 0 for a negative answer, or 1 for a positive answer.</span></p><a id="t.d05177afa4ffef830f1fe31c9dbd96f0802df7ba"></a><a id="t.5"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c29"><span class="c4">AddModeEventHandler(</span><span class="c7">&quot;Evt_ConfirmationBoxConfirm&quot;</span><span class="c2">, ConfirmationBoxConfirmEventHandler, Priority);</span></p></td></tr></table><p class="c15 c9"><span class="c12"></span></p><a id="t.c81098e3687a0f7d9cb8aef1f7c1a7f5381ff90a"></a><a id="t.6"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c3">private</span><span class="c4">&nbsp;</span><span class="c3">bool</span><span class="c4">&nbsp;ConfirmationBoxConfirmEventHandler(</span><span class="c3">string</span><span class="c4">&nbsp;evtName, </span><span class="c3">object</span><span class="c2">&nbsp;evtData)</span></p><p class="c5"><span class="c2">{</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">bool</span><span class="c4">&nbsp;confirmed = (</span><span class="c3">int</span><span class="c2">)evtData == 1;</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">if</span><span class="c2">&nbsp;(confirmed)</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; {</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">&hellip;</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; }</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">else</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; {</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c16">&hellip;</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; }</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">return</span><span class="c2">&nbsp;EVENT_STOP;</span></p><p class="c13"><span class="c4">}</span></p></td></tr></table><h2 class="c31"><span class="c19">ProfileNameEditor</span></h2><p class="c11"><span class="c12">To let the user enter a new name, P3SavepointManager reuses the ProfileNameEditor. </span></p><a id="t.1c57e4e25d232eb959e05a0bce44d4fd9e4d13b7"></a><a id="t.7"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c4">SetSelectorData(</span><span class="c7">&quot;ProfileNameTextSelector&quot;</span><span class="c2">,</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">new</span><span class="c4">&nbsp;TextSelectorData(</span><span class="c7">&quot;Enter new savepoint&quot;</span><span class="c4">, </span><span class="c3">new</span><span class="c4">&nbsp;List&lt;</span><span class="c3">string</span><span class="c4">&gt;(), </span><span class="c7">&quot;&quot;</span><span class="c2">));</span></p><p class="c13"><span class="c4">OpenDialog(</span><span class="c7">&quot;ProfileNameEditor&quot;</span><span class="c2">);</span></p></td></tr></table><p class="c27"><span class="c12">When the entry is ended, the dialog sends the event Evt_ProfileNameEntryCompleted and the event object is the entered name. If the user cancels the dialog without entering a name, the dialog sends the event Evt_ProfileNameEntryCancelled. Your mode must have higher priority than ProfileManagerMode to catch those events (priority &gt; 52110).</span></p><a id="t.f8b243663c125e22392935d7fdae0e00df3088d6"></a><a id="t.8"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c4">AddModeEventHandler(</span><span class="c7">&quot;Evt_ProfileNameEntryCompleted&quot;</span><span class="c2">, ProfileNameEntryCompletedEventHandler, Priority);</span></p><p class="c13"><span class="c4">AddModeEventHandler(</span><span class="c7">&quot;Evt_ProfileNameEntryCancelled&quot;</span><span class="c2">, ProfileNameEntryCancelledEventHandler, Priority);</span></p></td></tr></table><p class="c5 c9"><span class="c2"></span></p><a id="t.931f22324d0e035f1c4361daa2ec802b3ac3da0f"></a><a id="t.9"></a><table class="c23"><tr class="c1"><td class="c10" colspan="1" rowspan="1"><p class="c0"><span class="c3">private</span><span class="c4">&nbsp;</span><span class="c3">bool</span><span class="c4">&nbsp;ProfileNameEntryCompletedEventHandler(</span><span class="c3">string</span><span class="c4">&nbsp;evtName, </span><span class="c3">object</span><span class="c2">&nbsp;evtData)</span></p><p class="c5"><span class="c2">{</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; string enteredName = (</span><span class="c3">string</span><span class="c2">)evtData;</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; CloseDialog(</span><span class="c7">&quot;ProfileNameEditor&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; &hellip;</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">return</span><span class="c2">&nbsp;EVENT_STOP;</span></p><p class="c5"><span class="c2">}</span></p><p class="c5 c9"><span class="c2"></span></p><p class="c5"><span class="c3">private</span><span class="c4">&nbsp;</span><span class="c3">bool</span><span class="c4">&nbsp;ProfileNameEntryCancelledEventHandler(</span><span class="c3">string</span><span class="c4">&nbsp;evtName, </span><span class="c3">object</span><span class="c2">&nbsp;evtData)</span></p><p class="c5"><span class="c2">{</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; CloseDialog(</span><span class="c7">&quot;ProfileNameEditor&quot;</span><span class="c2">);</span></p><p class="c5"><span class="c2">&nbsp; &nbsp; &hellip;</span></p><p class="c5"><span class="c4">&nbsp; &nbsp; </span><span class="c3">return</span><span class="c2">&nbsp;EVENT_STOP;</span></p><p class="c13"><span class="c4">}</span><span class="c17">&nbsp; &nbsp;</span></p></td></tr></table><p class="c9 c15"><span class="c14"></span></p></body></html>
