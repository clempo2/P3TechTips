<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLROjXfSpIU_1TsQlCJ7q4WlXEixY9aqhie8CVYCrTb1E);.lst-kix_list_2-6>li:before{content:"\0025cf   "}.lst-kix_list_2-7>li:before{content:"o  "}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_2-4>li:before{content:"o  "}.lst-kix_list_2-5>li:before{content:"\0025aa   "}.lst-kix_list_2-8>li:before{content:"\0025aa   "}.lst-kix_list_3-0>li:before{content:"-  "}.lst-kix_list_3-1>li:before{content:"o  "}.lst-kix_list_3-2>li:before{content:"\0025aa   "}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_3-1{list-style-type:none}.lst-kix_list_3-5>li:before{content:"\0025aa   "}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_3-2{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}.lst-kix_list_3-4>li:before{content:"o  "}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_3-0{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_3-3>li:before{content:"\0025cf   "}ul.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ul.lst-kix_list_3-4{list-style-type:none}.lst-kix_list_3-8>li:before{content:"\0025aa   "}.lst-kix_list_3-6>li:before{content:"\0025cf   "}.lst-kix_list_3-7>li:before{content:"o  "}ul.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_1-0>li:before{content:"\0025cf   "}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_2-6{list-style-type:none}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ul.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_1-3>li:before{content:"\0025aa   "}.lst-kix_list_1-4>li:before{content:"\0025aa   "}.lst-kix_list_1-7>li:before{content:"\0025aa   "}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_1-6>li:before{content:"\0025aa   "}.lst-kix_list_2-0>li:before{content:"\0025cf   "}.lst-kix_list_2-1>li:before{content:"o  "}.lst-kix_list_1-8>li:before{content:"\0025aa   "}.lst-kix_list_2-2>li:before{content:"\0025aa   "}.lst-kix_list_2-3>li:before{content:"\0025cf   "}ol{margin:0;padding:0}table td,table th{padding:0}.c3{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:515.8pt;border-top-color:#000000;border-bottom-style:solid}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Consolas";font-style:normal}.c16{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c8{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c12{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Calibri";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Consolas";font-style:normal}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left;height:11pt}.c14{padding-top:2pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c17{padding-top:12pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c6{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c20{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c15{border-spacing:0;border-collapse:collapse;margin-right:auto}.c21{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c2{background-color:#ffff00;font-size:8pt;font-family:"Consolas";font-weight:400}.c13{font-size:9pt;font-weight:400;font-family:"Consolas"}.c22{background-color:#ffffff;max-width:516.3pt;padding:72pt 23.7pt 72pt 72pt}.c10{font-size:8pt;font-weight:400;font-family:"Consolas"}.c19{color:inherit;text-decoration:inherit}.c18{background-color:#ffff00}.c5{height:0pt}.c11{height:11pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:2pt;color:#2f5496;font-size:13pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c22 doc-content"><h1 class="c16"><span class="c12">MovingTarget</span></h1><p class="c6"><span class="c0">This tech tip explores the main feature of P3SampleApp: the rotating cube in the middle of the playfield.</span></p><p class="c6"><span class="c0">This is a good exercise to see the architecture of a P3 application in action.</span></p><h2 class="c14"><span class="c8">Select the Home Scene</span></h2><p class="c6"><span class="c0">With P3SampleApp loaded in Unity, select the Home scene: select Assets &gt; Scenes in the Project view and double-click on the Home scene in the Assets view to the right.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 688.40px; height: 610.80px;"><img alt="" src="images/movingTarget/HomeScene.png" style="width: 688.40px; height: 610.80px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c14"><span class="c8">Inspector</span></h2><p class="c6"><span class="c0">Select MovingTarget in the Hierarchy view. The Inspector view shows the MovingTarget Components.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 425.14px; height: 721.66px;"><img alt="" src="images/movingTarget/MovingTargetInspector.png" style="width: 425.14px; height: 721.66px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c0">The MovingTarget is a Cube mesh which needs a Mesh Renderer to display itself.</span></p><p class="c6"><span class="c0">The Box Collider and Rigidbody Components enable collision detection with the ball.</span></p><p class="c6"><span class="c0">The Moving Target (Script) is the P3SampleApp specific behavior.</span></p><h2 class="c14"><span class="c8">MovingTarget Script</span></h2><p class="c6"><span class="c0">Right-click the little cog to the right of the Moving Target (Script) in the Inspector view and select &ldquo;Edit Script&rdquo;.</span></p><p class="c6"><span class="c0">This will open P3SampleApp\Assets\Scripts\GUI\Home\MovingTarget.cs in the code editor.</span></p><p class="c6"><span>This assumes you have configured your External Script Editor. See the tech tip </span><span class="c21"><a class="c19" href="P3DevelopmentEnvironmentSetup.html">P3 Development Environment Setup</a></span><span class="c0">.</span></p><p class="c6"><span class="c0">The MovingTarget script runs on the GUI thread. The GUI thread is a typical Unity application. It handles the audio, the display, and object collision.</span></p><p class="c6"><span class="c0">By convention, all application code running on the GUI thread is located somewhere under P3SampleApp\Assets\Scripts\GUI. </span></p><p class="c6"><span class="c0">In the editor, scroll down to look at the OnTriggerEnter() method.</span></p><table class="c15"><tr class="c5"><td class="c3" colspan="1" rowspan="1"><p class="c20"><span class="c1">public void OnTriggerEnter(Collider other) {</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (disabledCountdown &lt; 0) &nbsp;// if we&#39;re not disabled</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; disabledCountdown = DISABLED_DURATION; &nbsp;// Allow a debounce period</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // We&#39;ve been hit! &nbsp;Tell the modes about it.</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Multimorphic.P3App.Logging.Logger.Log(&quot;GUI layer: Target hit by &quot; + other.name + &quot;. Posting TargetHit event to mode layer.&quot;);</span></p><p class="c7"><span class="c13">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c13 c18">PostGUIEventToModes(&quot;Evt_TargetHit&quot;, other.name);</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Renderer&gt;().material.color = Color.red;</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P3SAAudio.Instance.PlaySound(&quot;GroupTest&quot;);</span></p><p class="c7"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c7"><span class="c1">}</span></p><p class="c7 c11"><span class="c1"></span></p></td></tr></table><p class="c9"><span class="c0"></span></p><p class="c6"><span class="c0">Now assume the game is already started and the player has launched the ball. The SDK tracks the ball and moves a virtual ball avatar in Unity. When the ball avatar collides with the moving target, Unity calls OnTriggerEnter(). If the moving target is not disabled by a recent collision, this will send a GUI event to the modes. It will also change the color to red temporarily and play a sound.</span></p><p class="c6"><span class="c0">The name of the GUI event is Evt_TargetHit. This is not an event defined by the P3 SDK. It is an application specific event. The event argument is the name of the other object that collided with the cube. In P3SampleApp, the only other object that can collide with the MovingTarget is the ball avatar.</span></p><p class="c6"><span class="c0">Notice how the GUI does not take the initiative. Instead, it notifies the modes which will determine how the application responds to the new situation.</span></p><h2 class="c14"><span class="c8">MovingTargetMode</span></h2><p class="c6"><span class="c0">In Unity, select Assets &gt; Scripts &gt; Modes &gt; GameModes in the Project view. Double-click on MovingTargetMode in the Assets view to the right. This will open P3SampleApp\Assets\Scripts\Modes\GameModes\MovingTargetMode.cs in the code editor.</span></p><p class="c6"><span class="c0">This code runs on the mode thread. By convention, all application code running on the mode thread is located somewhere under P3SampleApp\Assets\Scripts\Modes.</span></p><p class="c6"><span class="c0">MovingTargetMode is the mode that controls the MovingTarget from the application side. This mode handles the Evt_TargetHit event. First it has to register its interest in this event.</span></p><table class="c15"><tr class="c5"><td class="c3" colspan="1" rowspan="1"><p class="c7"><span class="c1">public MovingTargetMode (P3Controller controller, int priority)</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: base(controller, priority)</span></p><p class="c7"><span class="c1">{</span></p><p class="c7"><span class="c13">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c13 c18">AddGUIEventHandler(&quot;Evt_TargetHit&quot;, TargetHitEventHandler);</span></p><p class="c7"><span class="c1">}</span></p><p class="c7 c11"><span class="c1"></span></p></td></tr></table><p class="c6 c11"><span class="c0"></span></p><p class="c6"><span class="c0">Now look at the event handler itself.</span></p><table class="c15"><tr class="c5"><td class="c3" colspan="1" rowspan="1"><p class="c20"><span class="c1">public void TargetHitEventHandler(string evtName, object evtData)</span></p><p class="c7"><span class="c1">{</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Target has been hit. &nbsp;Score some points.</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ScoreManager.Score (10000);</span></p><p class="c7 c11"><span class="c1"></span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hitCount++ &gt; MAX_HITS)</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hitCount = 0;</span></p><p class="c7 c11"><span class="c1"></span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Hit by whom?</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string hitBy = (string)evtData;</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multimorphic.P3App.Logging.Logger.Log (&quot;Mode layer: Received TargetHit event from GUI layer. &nbsp;Target hit by &quot; + hitBy);</span></p><p class="c7 c11"><span class="c1"></span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Tell the UI to move the target to a new position</span></p><p class="c7"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multimorphic.P3App.Logging.Logger.Log (&quot;Mode layer: Posting MoveTarget event to GUI layer to move to position &quot; + hitCount.ToString());</span></p><p class="c7"><span class="c13">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c13 c18">PostModeEventToGUI(&quot;Evt_MoveTarget&quot;, hitCount);</span></p><p class="c7"><span class="c1">}</span></p><p class="c7 c11"><span class="c1"></span></p></td></tr></table><p class="c9"><span class="c0"></span></p><p class="c6"><span class="c0">The active modes that registered an interest in Evt_TargetHit will receive the event. In P3SampleApp, the only mode that registered an interest in Evt_TargetHit is MovingTargetMode. When the Evt_TargetHit event is received, its TargetHitEventHandler is called.</span></p><p class="c6"><span class="c0">The mode reacts by adding 10000 to the score. After some logging, the mode decides the cube has to move to a new location determined by hitCount. Since moving the cube is a display operation, it sends the Evt_MoveTarget mode event to the GUI.</span></p><h2 class="c14"><span class="c8">MovingTarget Script Again</span></h2><p class="c6"><span class="c0">This code is in the same MovingTarget script we saw earlier.</span></p><table class="c15"><tr class="c5"><td class="c3" colspan="1" rowspan="1"><p class="c20"><span class="c4">protected override void CreateEventHandlers() {</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base.CreateEventHandlers ();</span></p><p class="c7"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2">AddModeEventHandler(&quot;Evt_MoveTarget&quot;, MoveTargetEventHandler);</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&hellip;</span></p><p class="c7"><span class="c4">}</span></p><p class="c7 c11"><span class="c4"></span></p><p class="c7"><span class="c4">public void MoveTargetEventHandler(string eventName, object eventData) {</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Mode is telling us to move</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multimorphic.P3App.Logging.Logger.Log (&quot;GUI layer: Received MoveTarget event from mode layer.&quot;);</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int index = (int) eventData;</span></p><p class="c7"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2">destination = new Vector3(-7f + index,</span></p><p class="c7"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">gameObject.transform.localPosition.y,</span></p><p class="c7"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">Random.Range (-2.5f, 2.5f));</span></p><p class="c7"><span class="c4">}</span></p><p class="c7 c11"><span class="c4"></span></p></td></tr></table><p class="c17"><span class="c0">The components that registered an interest in Evt_MoveTarget will receive the event. In P3SampleApp, the only P3Aware component that registered an interest in Evt_MoveTarget is MovingTarget. When the Evt_MoveTarget event is received, its MoveTargetEventHandler is called. </span></p><p class="c6"><span class="c0">This event handler simply modifies the final destination. The actual movement occurs in the Update() method.</span></p><table class="c15"><tr class="c5"><td class="c3" colspan="1" rowspan="1"><p class="c20"><span class="c4">public override void Update () {</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base.Update ();</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameObject.GetComponent&lt;Renderer&gt;().material.color =</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Color.Lerp(gameObject.GetComponent&lt;Renderer&gt;().material.color, Color.blue, Time.deltaTime * 1.5f);</span></p><p class="c7"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2">gameObject.transform.localPosition = Vector3.Lerp(gameObject.transform.localPosition, destination,</span></p><p class="c7"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2">Time.deltaTime * SPEED);</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameObject.transform.Rotate(new Vector3(1f, 2f, 3f));</span></p><p class="c7 c11"><span class="c4"></span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (disabledCountdown &gt; 0)</span></p><p class="c7"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disabledCountdown -= Time.deltaTime;</span></p><p class="c7"><span class="c4">}</span></p><p class="c7 c11"><span class="c4"></span></p></td></tr></table><p class="c17"><span class="c0">The Update() method gradually changes the color back to blue, and gradually moves the cube to its final destination. It also rotates the cube a constant amount.</span></p><p class="c17"><span class="c0">The name Lerp stands for Linear Interpolation. It is commonly used to smooth transitions between two values over time.</span></p><h2 class="c14"><span class="c8">SceneController</span></h2><p class="c6"><span class="c0">MovingTarget does not do this, but another common practice is to send a mode to GUI event to the SceneController like HomeSceneController. This centralizes the event handlers in the SceneController making them easy to find. This is a good option when the event affects multiple objects in the scene.</span></p><p class="c6"><span class="c0">If the event is used in multiple scenes, a good place to implement the event handler is in the shared base class &lt;appcode&gt;SceneController. In P3SampleApp, that&rsquo;s P3SASceneController.</span></p></body></html>
