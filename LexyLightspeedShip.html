<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLROjXfSpIU_1TsQlCJ7q4WlXEixY9aqhie8CVYCrTb1E);.lst-kix_list_2-6>li:before{content:"\0025cf   "}.lst-kix_list_2-7>li:before{content:"o  "}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_2-4>li:before{content:"o  "}.lst-kix_list_2-5>li:before{content:"\0025aa   "}.lst-kix_list_2-8>li:before{content:"\0025aa   "}ul.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_1-0>li:before{content:"\0025cf   "}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_2-6{list-style-type:none}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_1-3>li:before{content:"\0025cf   "}.lst-kix_list_1-4>li:before{content:"o  "}.lst-kix_list_1-7>li:before{content:"o  "}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_1-6>li:before{content:"\0025cf   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_2-0>li:before{content:"-  "}.lst-kix_list_2-1>li:before{content:"o  "}.lst-kix_list_1-8>li:before{content:"\0025aa   "}.lst-kix_list_2-2>li:before{content:"\0025aa   "}.lst-kix_list_2-3>li:before{content:"\0025cf   "}ol{margin:0;padding:0}table td,table th{padding:0}.c15{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#e7e6e6;border-left-style:solid;border-bottom-width:1pt;width:85pt;border-top-color:#000000;border-bottom-style:solid}.c1{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#e7e6e6;border-left-style:solid;border-bottom-width:1pt;width:205.5pt;border-top-color:#000000;border-bottom-style:solid}.c23{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:467.5pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:16.3pt;border-top-color:#000000;border-bottom-style:solid}.c9{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:93.2pt;border-top-color:#000000;border-bottom-style:solid}.c38{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:517.1pt;border-top-color:#000000;border-bottom-style:solid}.c25{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:174.7pt;border-top-color:#000000;border-bottom-style:solid}.c19{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:85pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.3pt;border-top-color:#000000;border-bottom-style:solid}.c14{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:171.9pt;border-top-color:#000000;border-bottom-style:solid}.c17{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:92.9pt;border-top-color:#000000;border-bottom-style:solid}.c6{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:205.5pt;border-top-color:#000000;border-bottom-style:solid}.c37{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:467pt;border-top-color:#000000;border-bottom-style:solid}.c5{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:176.9pt;border-top-color:#000000;border-bottom-style:solid}.c24{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c44{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c26{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Calibri";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c8{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c18{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left;margin-right:-63.6pt}.c11{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:-63.5pt}.c13{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c34{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:-63.5pt}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Consolas";font-style:normal}.c20{padding-top:2pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Consolas";font-style:normal}.c43{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Consolas";font-style:normal}.c48{padding-top:6pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c39{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c32{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c41{padding-top:12pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c35{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c3{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c45{padding-top:0pt;padding-bottom:6pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c22{padding-top:6pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c47{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0563c1;text-decoration:underline}.c21{border-spacing:0;border-collapse:collapse;margin-right:auto}.c46{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c30{font-size:9pt;font-family:"Consolas";font-weight:400}.c49{padding:0;margin:0}.c33{margin-left:36pt;padding-left:0pt}.c28{height:13pt}.c42{margin-left:36pt}.c27{background-color:#e7e6e6}.c16{height:0pt}.c10{height:11pt}.c40{margin-right:-28.1pt}.c29{margin-right:-63.6pt}.c12{vertical-align:super}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:2pt;color:#2f5496;font-size:13pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c46 doc-content"><h1 class="c44"><span class="c26">Lexy Lightspeed Ship</span></h1><p class="c3"><span class="c4">This tech tip explores the Lexy Lightspeed ship and how to control it in your own application.</span></p><p class="c3"><span class="c4">The ship (also known as the saucer) is an 8-ball lock device. A ball can be ejected from the top leading to the right inlane. A ball can also be drained by dropping through the hole below the ship.</span></p><p class="c3"><span class="c4">There is no documentation for the event API in Lexy Lightspeed unlike more recent titles like WAMONH.</span></p><p class="c3"><span class="c4">There are places we can look for clues, like the module definition file LL-EE.json, the playfield device capabilities and the LLEEEventNames class in the module driver.</span></p><p class="c3"><span class="c4">At the time of writing, the LL-EE module driver was at version 2.1.0.0</span></p><h2 class="c20"><span class="c8">Physical Features</span></h2><p class="c3"><span class="c4">In this section, we will describe the ship&rsquo;s physical operation. Fortunately, all the associated complexity is managed by the module driver. In your application, you will interact solely with the event API, which is detailed later.</span></p><p class="c3"><span class="c4">Here is a front view with the dome removed and the center PCB lifted.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 104.00px -104.00px; border: 0.00px solid #000000; transform: rotate(1.57rad) translateZ(0px); -webkit-transform: rotate(1.57rad) translateZ(0px); width: 832.00px; height: 624.00px;"><img alt="" src="images/lexyLightspeedShip/ShipFront.jpg" style="width: 832.00px; height: 624.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">Here is a back view.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 104.00px -104.00px; border: 0.00px solid #000000; transform: rotate(1.57rad) translateZ(0px); -webkit-transform: rotate(1.57rad) translateZ(0px); width: 832.00px; height: 624.00px;"><img alt="" src="images/lexyLightspeedShip/ShipBack.jpg" style="width: 832.00px; height: 624.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">The ship always turns counter-clockwise driven by the shipMotor coil driver.</span></p><p class="c3"><span class="c4">The shipPos opto indicates whether the ship is in position, i.e. whether the lowest hole is aligned with the entrance ramp. The black U-shaped opto is mounted below the center PCB. The light beam is interrupted by yellow fins that are part of the ship body . The ship positions are numbered from 0 to 7. The position increases as the ship turns, therefore the positions increase clockwise. The only place where the position number is relevant is in debug messages.</span></p><p class="c3"><span class="c4">The shipEnter opto indicates whether a ball has entered the ship through the entrance ramp. The light beam traverses the ship from the entrance ramp to the back of the ship. Beware the ship structure blocks this light beam as the ship turns, so the value is only reliable when the ship is in position.</span></p><p class="c3"><span class="c4">The shipBallConfirm opto indicates whether there is a ball located one position to the right of the lowest position. This is used to confirm a ball has indeed been captured. The light beam crosses the ship from front to back. Again, the ship structure blocks this light beam as the ship turns, so the value is only reliable when the ship is in position.</span></p><p class="c3"><span class="c4">The shipExitBottom opto indicates a ball has dropped in the bottom hole. The light beam is across the hole in the underlying subway so it is not affected by a moving ship.</span></p><p class="c3"><span class="c4">The shipExitTop opto indicates a ball has ejected from the top. The light beam is in the back of the ship perpendicular to the eject ramp. The value is not affected by a moving ship.</span></p><p class="c3"><span class="c4">The top gate can be closed to keep the ball in the top position within the ship, or it can be open to eject the ball through the back of the ship onto the eject ramp. Similar to flippers, the shipExitTopMain coil can be pulsed to open the gate, and the shipExitTopHold coil can be energized to keep the gate open.</span></p><p class="c3"><span class="c4">The lower gate can be closed to keep the ball in the lowest position within the ship, or it can be open to drop the ball in the bottom hole. The shipExitBottomMain coil can be pulsed to open the gate, and the shipExitBottomHold coil can be energized to keep the gate open.</span></p><p class="c3"><span class="c4">The ship has multiple light emitting diodes on the center board under the dome. They are controlled together as a single LED named flasherShip.</span></p><h2 class="c20"><span class="c8">Ship Settings</span></h2><p class="c3"><span class="c4">All applications that run on the Lexy Lightspeed module inherit the following settings defined by the LL-EE module driver. The settings are located in the Service Menu under Settings/Mechs/Ship.</span></p><p class="c3"><span class="c4">* means this is a Playfield Module Setting, i.e. this setting value is shared by all applications using this physical Lexy Lightspeed module.</span></p><table class="c21"><tr class="c16"><td class="c36 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">&nbsp;</span></p></td><td class="c14 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Setting</span></p></td><td class="c17 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Type</span></p></td><td class="c9 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Default</span></p></td><td class="c9 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Note</span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">*</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Global ship enable</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">true</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">&nbsp;</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">App ship enable</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">true</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">*</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Always calibrate ship</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">false if running in the simulator, true if running on the physical machine</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">*</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Time offset for stopping</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">float</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">0.5f</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">from 0 to 1 in 0.01 increments, auto configured by calibration if &ldquo;Always calibrate ship&rdquo; is enabled</span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">*</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Alignment speed</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">2</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">from 2 to 10 in 1 increments, auto configured by calibration if &ldquo;Always calibrate ship&rdquo; is enabled</span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">*</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Unload only known balls</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">false</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">*</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Number of positions before abort</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">12</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">from 2 to 30 in 1 increments</span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">&nbsp;</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Enable ship debug</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">false</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">&nbsp;</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Ball positions debug</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">false</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr><tr class="c16"><td class="c36" colspan="1" rowspan="1"><p class="c2"><span class="c4">&nbsp;</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c2"><span class="c4">Enable calibration debug</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2"><span class="c4">false</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c2 c10"><span class="c4"></span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p><p class="c3"><span class="c4">There are two settings required to enable the ship. Both settings must be true for the ship to operate. One setting (Global ship enable) affects all applications, whereas the second setting (App ship enable) affects only the running application. For example, an operator could set &ldquo;Global ship enable&rdquo; to false if the ship is broken.</span></p><p class="c3"><span class="c4">If &ldquo;Always calibrate ship&rdquo; is enabled, a calibration runs at the start of the game. Calibration measures the optimum value for &ldquo;Time offset for stopping&rdquo; and &ldquo;Alignment speed&rdquo; and assigns the values to these Playfield Module Settings.</span></p><p class="c3"><span class="c4">Note: the ship will be disabled if there is a calibration error, like a broken motor or motor speed out of range.</span></p><p class="c3"><span class="c4">If &ldquo;Always calibrate ship&rdquo; is disabled, the module driver uses the existing values in the Playfield Module Settings &ldquo;Time offset for stopping&rdquo; and &ldquo;Alignment speed&rdquo;. Presumably, those values were computed by a previous calibration with a possible small tweak by the user.</span></p><p class="c3"><span class="c4">&ldquo;Unload only known balls&rdquo; can be used to optimize the release of captured balls. When enabled, the ship rotation stops as soon as the ship thinks it is empty. When disabled, the ship makes a complete rotation when unloading all balls.</span></p><p class="c3"><span>The &ldquo;Number of positions before abort&rdquo; is how many positions the ship will rotate looking for something to happen before it declares an inactivity error. The default value is 12 which is 1 rotation and a half. The first 4 consecutive inactivity errors will cause a ship reset. The ship will continue to work but the state might be unreliable. On the 5</span><span class="c12">th</span><span class="c4">&nbsp;consecutive inactivity error, the ship will be disabled.</span></p><p class="c3"><span class="c4">The remaining settings can be enabled to add debug information in popups and in the log. &ldquo;Enable ship debug&rdquo; details what the ship is doing. &ldquo;Ball positions debug&rdquo; shows a popup with information on which positions are occupied by a ball. &ldquo;Enable calibration debug&rdquo; details what calibration is doing.</span></p><p class="c32"><span class="c4">In debug messages, &ldquo;Time offset for stopping&rdquo; is called ESD for &ldquo;Early Stop Delay&rdquo;;</span></p><p class="c3"><span class="c4">&ldquo;Alignment speed&rdquo; is called SPT for &ldquo;Slow Patter on Time&rdquo;. For example:</span></p><p class="c3"><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ending Ship Calibration - Using default ESD:&lt;value&gt; and SPT:&lt;value&gt;</span></p><h2 class="c20"><span class="c8">Device Ready</span></h2><p class="c3"><span class="c4">When launching an application, the attract mode appears promptly; however, the SDK must wait until all mechs are ready. During this initialization period, the start button remains unlit and unresponsive.</span></p><p class="c3"><span class="c4">On the LL-EE module, this means the application must wait for the ship to unload all the balls. Upon startup, the ship does not initially know which positions contain balls, so it needs to complete at least one full rotation to empty itself. If calibration is enabled, the ship will also measure the optimal stop delay and speed, which adds a bit more time to the process.</span></p><p class="c3"><span class="c4">Once the mechs are ready, the SDK enables the start button. The button will blink to indicate that it is now responsive.</span></p><p class="c3"><span class="c4">This is all automatic in the SDK base classes. You don&rsquo;t have to code for this. You just have to be patient before you can press the start button to start a game.</span></p><h2 class="c20"><span class="c8">Device Capabilities</span></h2><p class="c3"><span class="c4">Before BallPaths were invented, a module was described by a list of PlayfieldDeviceCapabilitiesStruct&rsquo;s. BallPaths were back-ported to LL-EE but it still has its list of capabilities.</span></p><p class="c3"><span class="c4">P3SampleApp&rsquo;s HomeMode shows how to access the device capabilities:</span></p><table class="c21"><tr class="c16"><td class="c38" colspan="1" rowspan="1"><p class="c34"><span class="c0">AddModeEventHandler(EventNames.PlayfieldDeviceCapabilities, PlayfieldDeviceCapabilitiesEventHandler, Priority);</span></p><p class="c2 c29"><span class="c0">...</span></p><p class="c2 c29"><span class="c0">PostModeEventToModes(EventNames.PlayfieldGetDeviceCapabilities, true);</span></p><p class="c2 c29"><span class="c0">...</span></p><p class="c18"><span class="c0">private bool PlayfieldDeviceCapabilitiesEventHandler(string evtName, object evtData)</span></p><p class="c18"><span class="c0">{</span></p><p class="c2 c29"><span class="c0">&nbsp; &nbsp; List&lt;PlayfieldDeviceCapabilitiesStruct&gt; deviceCapabilities = (List&lt;PlayfieldDeviceCapabilitiesStruct&gt;)evtData;</span></p><p class="c18"><span class="c0">&nbsp; &nbsp; ...</span></p><p class="c11"><span class="c0">}</span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p><p class="c3"><span class="c4">For LL-EE, the list contains one struct for the &ldquo;Spaceship&rdquo;:</span></p><p class="c32 c40"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 275.73px;"><img alt="" src="images/lexyLightspeedShip/LLEEDeviceCapabilities.png" style="width: 624.00px; height: 275.73px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c32 c10 c42"><span class="c7"></span></p><p class="c3"><span class="c4">The events listed in fromEventNameXXX fields are sent by the module driver to the application.</span></p><p class="c3"><span class="c4">The events listed in toEventNameXXX fields are sent by the application to the module driver.</span></p><p class="c3"><span class="c4">Beware there is a lot of misleading information in that struct. Maybe the device driver changed extensively in version 2 and these capabilities were never updated. See Appendix A for details.</span></p><h2 class="c20"><span class="c8">Saucer Events</span></h2><p class="c3"><span class="c4">This section describes the event API between the module driver and the application. See Appendix B for a tabular list of events.</span></p><p class="c3"><span class="c4">An important point to realize is the application does not control the movement of the ship. The application can only ask for outcomes and the module driver moves the ship to achieve the result.</span></p><p class="c3"><span class="c4">Assume the ship is stationary and waiting. A ball enters the ship. The ship automatically rotates after 1 second. The ball is captured when it is confirmed to be in the position directly to the right of the lowest hole.</span></p><p class="c3"><span class="c4">There is no API event when the ball enters the ship. The module driver sends the Evt_BallInSaucer event when the ball is captured. The event data is the number of balls now locked in the ship (including the new ball).</span></p><p class="c3"><span class="c4">At any time, the application can ask the module driver how many balls are locked in the ship by sending the Evt_SaucerQueryNumBalls event. The event data can be anything since it is ignored. The module driver responds by sending the Evt_SaucerNumBalls event. The event data is the number of balls now locked in the ship.</span></p><p class="c3"><span class="c4">The application can eject balls by sending the Evt_SaucerEject event. The event data is the number of balls to eject. If the number is 0, it means stop ejecting balls immediately. The application must be careful not to eject more balls than there are currently in the ship. There is no check against this. If the event data is not 0, the module driver sends the ModeToGUI event Evt_SaucerRotateToEject (the event data is always 0). The GUI can use this event to animate a ship avatar, but that is more likely in a diagnostics application.</span></p><p class="c3"><span class="c4">The balls do not need to be consecutive in the ship. This can happen during normal operation in a multiplayer game. The module driver is smart enough to handle that case correctly.</span></p><p class="c3"><span class="c4">The module driver sends the event Evt_SaucerBallEjected when a ball is ejected at the top of the ship (event data is always int 0). When this happens, it also sends the ModeToGUI event Evt_SaucerEject (event data is always 0). Do not confuse this ModeToGUI event with the ModeToModes event Evt_SaucerEject which is sent by the app to the driver. Using the same name was unfortunate.</span></p><p class="c3"><span class="c4">The upper gate is automatically closed at the end of all the ejections. There is no event to tell the application the ejections are done. If necessary, the application must keep a count of the balls itself.</span></p><p class="c3"><span class="c4">The app needs to keep track of the difference between the number of balls locked by the current player and the actual number of balls in the ship. If there are too many balls in the ship, the app should eject only a subset of the balls. If there are missing balls, the app should compensate by launching the missing balls from the trough.</span></p><p class="c3"><span class="c4">The application can empty the ship by sending the Evt_SaucerUnload event. The event data is ignored. The balls fall into the bottom hole. The ship does a full unload which moves 10 positions. The module driver sends the Evt_SaucerUnloadFinished event when the unload is finished. The event data for Evt_SaucerUnloadFinished is always true.</span></p><p class="c3"><span class="c4">The application can also empty the ship by sending the Evt_SaucerUnloadIfNotEmpty event. The event data is ignored. If the &ldquo;Unload only known balls&rdquo; setting is enabled, this unloads the current number of locked balls and stops, otherwise it does a full unload rotating 10 positions. The module driver sends the Evt_SaucerUnloadFinished event when the unload is finished, even if there were no locked balls and the ship didn&rsquo;t move.</span></p><p class="c3"><span class="c4">The module driver does a full unload when the application is launched, guaranteeing the ship is empty when the first game is started.</span></p><p class="c3"><span class="c4">The application can control the drains in the bottom hole with the Evt_SaucerEnableQuickDrains event. Pass true in the event data to enable quick drains, false to disable. When enabled, it opens the lower gate for 2 seconds whenever a ship position is aligned with the ship entrance ramp and a ball is in that position. This option remains enabled until explicitly disabled. The default is false.</span></p><p class="c3"><span class="c4">The application can manually control the lower gate by sending the Evt_SaucerOpenLowerGateManually event. Pass true in the event data to open the gate. Pass false to close the gate. When enabled, the lower gate remains open until disabled. This event overrides Evt_SaucerEnableQuickDrains.</span></p><p class="c3"><span class="c4">The module driver sends the Evt_SaucerBallDrained event when a ball drops in the ship&rsquo;s bottom hole. The event data is a bool: true if the driver thought there was a ball at that position, false otherwise. For example, the event data will be true if the ball travels all the way around the ship before draining. Conversely, the event data will be false if the ball entering the ship immediately drops into the bottom hole because the lower gate is open.</span></p><h2 class="c20"><span class="c8">Diagnostics Events</span></h2><p class="c3"><span class="c4">The class LLEEEventNames lists the events we have already seen plus numerous events of the form Evt_SaucerDiagsXXX. We do not cover those events here because they are meant for the Playfield Diagnostics. They should not be used by a regular application because they interfere with the normal operation of the ship.</span></p><h2 class="c20"><span class="c8">Ball Search</span></h2><p class="c3"><span class="c4">When ball search is activated after 10 seconds of inactivity, the ship will quickly open and close the lower gate three times and perform a full rotation. This is handled by the module driver. The application does not have to worry about it.</span></p><h2 class="c20"><span class="c8">Troubleshooting</span></h2><p class="c3"><span class="c4">LLEE predates the rule that dictates all default BallPaths must be PassThroughs. That&rsquo;s why P3SampleApp&rsquo;s HomeMode uses device capabilities to eject balls that enter the ship. You will need to modify that code if your application takes control of the ship.</span></p><table class="c21"><tr class="c16"><td class="c23" colspan="1" rowspan="1"><p class="c35"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; private bool DeviceEnteredHandler(string evtName, object evtData)</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (deviceCapabilities != null)</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (deviceCapabilities[0].canEject)</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(deviceCapabilities[0].toEventNameEject, 1);</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (deviceCapabilities[0].canDrain)</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(deviceCapabilities[0].toEventNameDrain, 1);</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SWITCH_CONTINUE;</span></p><p class="c39"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p><p class="c3"><span class="c47">P3SampleAppAgnostic</span><span class="c4">&nbsp;adds an event handler to relaunch balls that fall into a BallPath hole. If you copied that code, make sure it does not interfere with your application logic.</span></p><table class="c21"><tr class="c16"><td class="c37" colspan="1" rowspan="1"><p class="c48"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; private bool HoleHitEventHandler(string evtName, object evtData)</span></p><p class="c32"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c32"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Add hole hit logic here or move the subscription and this code into a relevant child mode to process hole hits</span></p><p class="c32"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // for your game.</span></p><p class="c32"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P3SABallLauncher.launch();</span></p><p class="c32"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SWITCH_CONTINUE;</span></p><p class="c45"><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p><p class="c3"><span class="c4">If you send the Evt_SaucerEject event and the ship starts acting weird (ship rotates but the top gate does not open), verify if you passed a negative number in the event data. It does not make sense to request a negative number of balls to eject and there is no check against this.</span></p><h2 class="c20"><span class="c8">Sample 8-ball Multiball Mode</span></h2><p class="c3"><span class="c4">This section provides the source code for a sample 8-ball multiball mode.</span></p><p class="c3"><span>The rules are simplified. Lock is always lit. Shoot the ball in the ship to lock the ball. Locking the 8</span><span class="c12">th</span><span class="c4">&nbsp;ball &nbsp;starts multiball with a 10 second ball saver.</span></p><p class="c3"><span>In a multiplayer game, the mode keeps track of the number of balls in the ship versus the number of balls locked by that player. When a player locks a ball and the ship contains more balls than the player has locked, the application ejects 1 ball from the ship to make room for more locked balls. When the player locks his 8</span><span class="c12">th</span><span class="c4">&nbsp;ball, multiball starts even if not all 8 balls are currently in the ship. If necessary, the application will launch additional balls to compensate.</span></p><p class="c3"><span class="c4">The mode opens the lower gate when ejecting the balls. This will cause 4 balls to eject from the top and the remaining balls to drop in the bottom hole. This empties the ship faster and gives the option to relaunch the drained balls on the left to balance the feeds to the inlanes. Normally, the ship can stop automatically when the requested number of balls have ejected. Here, the application must stop the ship explicitly (by sending Evt_SaucerEject 0), otherwise, the ship will continue to spin trying to eject balls that have already dropped below. This would cause an inactivity error.</span></p><p class="c3"><span class="c4">The code uses existing score values already present in P3SAScoreValues.</span></p><p class="c3"><span class="c4">The mode keeps track of the number of balls in play. That&rsquo;s easier than relying on BallsInPlayManager with its unintuitive rules. A multiball mode must block the propagation of the sw_drain_active event if there is at least one active ball remaining. BallSaveMode has higher priority and it also blocks the sw_drain_active event when a ball is saved. HomeMode does not care how many balls are in play. If a sw_drain_active event reaches HomeMode, it thinks the ball is dead. </span></p><p class="c3"><span class="c4">To make this mode commercial quality, we would need to add: a ball save time setting, tilt handling, shot arrows at the top of the screen, visual indicator of the number of balls locked, light shows, music, sound effects, callouts, jackpots during multiball.</span></p><p class="c3"><span class="c4">Make sure you have modified or commented out the code mentioned in the Troubleshooting section.</span></p><p class="c3"><span class="c4">To add this mode to P3SampleApp, edit HomeMode.cs and make the following changes.</span></p><p class="c3"><span class="c4">Add a member variable at the top of the class:</span></p><table class="c21"><tr class="c16"><td class="c23" colspan="1" rowspan="1"><p class="c22"><span class="c30">private ShipMultiball shipMultiball;</span></p></td></tr></table><p class="c41"><span class="c4">Change the constructor to create the mode instance:</span></p><table class="c21"><tr class="c16"><td class="c23" colspan="1" rowspan="1"><p class="c22"><span class="c30">&nbsp; &nbsp; shipMultiball = new ShipMultiball(p3, P3SAPriorities.PRIORITY_MULTIBALL);</span></p></td></tr></table><p class="c41"><span class="c4">Change mode_stopped() to remove the mode instance:</span></p><table class="c21"><tr class="c16"><td class="c23" colspan="1" rowspan="1"><p class="c22"><span class="c30">&nbsp; &nbsp; p3.RemoveMode(shipMultiball);</span></p></td></tr></table><p class="c41"><span class="c4">Change StartPlaying() to add the mode instance:</span></p><table class="c21"><tr class="c16"><td class="c23" colspan="1" rowspan="1"><p class="c22"><span class="c30">&nbsp; &nbsp; p3.AddMode(shipMultiball);</span></p></td></tr></table><p class="c41"><span class="c4">Create the file Assets\Scripts\Modes\GameModes\ShipMultiball.cs with this content:</span></p><table class="c21"><tr class="c16"><td class="c23" colspan="1" rowspan="1"><p class="c35"><span class="c0">using Multimorphic.NetProcMachine.Machine;</span></p><p class="c2"><span class="c0">using Multimorphic.P3;</span></p><p class="c2"><span class="c0">using Multimorphic.P3.Colors;</span></p><p class="c2"><span class="c0">using Multimorphic.P3App.Modes;</span></p><p class="c2"><span class="c0">using System;</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">namespace Multimorphic.P3SA.Modes</span></p><p class="c2"><span class="c0">{</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; public class ShipMultiball : P3SAGameMode</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private const int MULTIBALL_NUM_BALLS = 8;</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private bool isMultiballActive;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private int numBallsInShip;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private int numBallsLocked;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private int numBallsEjecting;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private int numBallsToLaunch;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private int numBallsInPlay;</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; public ShipMultiball(P3Controller controller, int priority)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : base(controller, priority)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddModeEventHandler(&quot;Evt_SaucerNumBalls&quot;, SaucerNumBallsEventHandler, Priority);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddModeEventHandler(&quot;Evt_BallInSaucer&quot;, BallInSaucerEventHandler, Priority);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddModeEventHandler(&quot;Evt_SaucerBallEjected&quot;, SaucerBallEjectedEventHandler, Priority);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddModeEventHandler(&quot;Evt_SaucerBallDrained&quot;, SaucerBallDrainedEventHandler, Priority);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; public override void mode_started()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; base.mode_started();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isMultiballActive = false;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateLED();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerOpenLowerGateManually&quot;, false);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerQueryNumBalls&quot;, null);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; public override void LoadPlayerData()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; base.LoadPlayerData();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsLocked = data.currentPlayer.GetData(&quot;numBallsLocked&quot;, 0);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; public override void SavePlayerData()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; base.SavePlayerData();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.currentPlayer.SaveData(&quot;numBallsLocked&quot;, numBallsLocked);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private bool SaucerNumBallsEventHandler(string eventName, object eventData)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsInShip = (int)eventData;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return EVENT_CONTINUE;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private bool BallInSaucerEventHandler(string eventName, object eventData)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsInShip = (int)eventData;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ScoreManager.Score(Scores.MULTIBALL_BALL_LOCKED);</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsLocked++;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (numBallsLocked == MULTIBALL_NUM_BALLS)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartMultiball();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (numBallsLocked &lt; numBallsInShip)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // numBallsInShip and numBallsLocked can differ in a multiplayer game</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // make room for this player&#39;s next locked ball</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerEject&quot;, 1);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ball is locked, launch a new ball</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P3SABallLauncher.launch();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return EVENT_CONTINUE;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private bool SaucerBallEjectedEventHandler(string eventName, object eventData)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isMultiballActive)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsInPlay++;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsEjecting--;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (numBallsEjecting == 0)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RelaunchDrainedBalls();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return EVENT_CONTINUE;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private bool SaucerBallDrainedEventHandler(string eventName, object eventData)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bool wasLockedBall = (bool)eventData;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (wasLockedBall)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsToLaunch++;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsEjecting--;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (numBallsEjecting == 0)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RelaunchDrainedBalls();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ball was already in play, replace the ball</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P3SABallLauncher.launch();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return EVENT_CONTINUE;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private void RelaunchDrainedBalls()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Stop the ship rotation</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerEject&quot;, 0);</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (int i = 0; i &lt; numBallsToLaunch; i++)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P3SABallLauncher.launch(&quot;left&quot;, launchCallback);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private void launchCallback()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsToLaunch--;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsInPlay++;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private bool sw_drain_active(Switch sw)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isMultiballActive)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsInPlay--;</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int numBallsActive = numBallsEjecting + numBallsToLaunch + numBallsInPlay;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (numBallsActive == 1)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EndMultiball();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SWITCH_STOP;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SWITCH_CONTINUE;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private void StartMultiball()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isMultiballActive = true;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateLED();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ScoreManager.Score(Scores.MULTIBALL_START);</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsEjecting = Math.Min(numBallsLocked, numBallsInShip);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsToLaunch = MULTIBALL_NUM_BALLS - numBallsEjecting;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsLocked = 0;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; numBallsInPlay = 0;</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_RespawnEnable&quot;, false);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerOpenLowerGateManually&quot;, true);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerEject&quot;, numBallsEjecting);</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int ballSaveTime = 10; // this could be a GameAttribute</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_BallSaveStart&quot;, ballSaveTime);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_BallSavePauseUntilGrid&quot;, ballSaveTime);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private void EndMultiball()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isMultiballActive = false;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateLED();</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_RespawnEnable&quot;, true);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostModeEventToModes(&quot;Evt_SaucerOpenLowerGateManually&quot;, false);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2 c10"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; private void updateLED()</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isMultiballActive)</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LEDScriptsDict[&quot;flasherShip&quot;] = LEDHelpers.BlinkLED(base.p3, LEDScriptsDict[&quot;flasherShip&quot;], Color.blue);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LEDScriptsDict[&quot;flasherShip&quot;] = LEDHelpers.OnLED(base.p3, LEDScriptsDict[&quot;flasherShip&quot;], Color.blue);</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; }</span></p><p class="c39"><span class="c0">}</span></p></td></tr></table><p class="c41"><span class="c4">You can consider deleting the unused Multiball.cs but if you do, you must fix a compilation error in MultiballManager.cs because of the missing MultiballStatusStruct. After doing that, you can remove the reference to the Multiball mode and keep only ShipMultiball in HomeMode.</span></p><h2 class="c20 c28"><span class="c8"></span></h2><h2 class="c20"><span class="c8">Appendix A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issues in the Device Capabilities</span></h2><p class="c3"><span class="c4">This is a list of issues in the LL-EE device capabilities:</span></p><ul class="c49 lst-kix_list_2-0 start"><li class="c24 li-bullet-0"><span class="c13">fromEventNameBallEntered</span><span class="c4">: There is no event when the ball enters the ship. There is a sw_shipEnter_active switch event but that is only reliable when the ship is in position. Instead, Evt_BallInSaucer is sent when the ball is captured after a one position rotation and the ball presence is confirmed by the shipBallConfirm switch.</span></li><li class="c24 li-bullet-0"><span class="c13">fromEventNameCalibrateFinished</span><span class="c4">: The Evt_SaucerCalibrateFinished event is never sent. There is no event when calibration ends. In any case, the application cannot launch a calibration programmatically. When the application is launched, the SDK will block starting a game until the ship is ready.</span></li><li class="c24 li-bullet-0"><span class="c13">fromEventNameBallLocked</span><span class="c4">: The Evt_SaucerBallLocked event is sent only as a reaction to the application sending the Evt_SaucerLock event. The application can send this event at any time, so it means nothing. The real event to notify a new ball is locked is Evt_BallInSaucer.</span></li><li class="c24 li-bullet-0"><span class="c13">toEventNameCalibrate</span><span class="c4">: The Evt_SaucerCalibrate event is a complete no op. The calibration that occurs when the application is launched is automatic (provided the &ldquo;Always calibrate ship&rdquo; setting is enabled).</span></li><li class="c24 li-bullet-0"><span class="c13">toEventNameDrain</span><span class="c4">: The Evt_SaucerDrain event takes the number of balls to drain in its event data. This is not fully implemented. It is better to drain all balls by sending Evt_SaucerUnload or Evt_SaucerUnloadIfNotEmpty.</span></li><li class="c24 li-bullet-0"><span class="c13">toEventNameLock</span><span class="c4">: The Evt_SaucerLock event causes the Evt_SaucerBallLocked event to be posted unconditionally by the module driver. The application should not be responsible to decide when a ball is locked. Use the Evt_BallInSaucer event instead.</span></li><li class="c3 c33 li-bullet-0"><span class="c13">toEventNameMove</span><span class="c4">: The Evt_SaucerMove event is a complete no-op. The application does not control when or how the ship moves. It can only ask for outcomes.</span></li></ul><h2 class="c20 c28"><span class="c8"></span></h2><h2 class="c20"><span class="c8">Appendix B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List of Events</span></h2><p class="c3"><span class="c4">Events from the module driver to the application</span></p><table class="c21"><tr class="c16"><td class="c5 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Name</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Data Type</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Data Description</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_BallInSaucer</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Number of balls now locked in the ship</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerNumBalls </span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Number of balls now locked in the ship</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerBallEjected</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Always 0</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerUnloadFinished</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Always true</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerBallDrained</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">true if the driver thinks there was a locked ball at that position, false otherwise</span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p><p class="c3"><span class="c4">Events from the application to the module driver</span></p><table class="c21"><tr class="c16"><td class="c5 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Name</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Data Type</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Data Description</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerQueryNumBalls</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Number of balls now locked in the ship</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerEject</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Number of balls to eject</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerUnload</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">any</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">ignored</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerUnloadIfNotEmpty</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">any</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">ignored</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerEnableQuickDrains</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">true to enable quick drains, false to disable</span></p></td></tr><tr class="c16"><td class="c5" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerOpenLowerGateManually</span></p></td><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c4">bool</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">true to open the lower gate, false to close</span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p><p class="c3"><span class="c4">ModeToGUI events from the module driver to the application</span></p><table class="c21"><tr class="c16"><td class="c25 c27" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Name</span></p></td><td class="c27 c31" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Data Type</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c2"><span class="c4">Event Data Description</span></p></td></tr><tr class="c16"><td class="c25" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerRotateToEject</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Always 0</span></p></td></tr><tr class="c16"><td class="c25" colspan="1" rowspan="1"><p class="c2"><span class="c4">Evt_SaucerEject</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c2"><span class="c4">int</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c2"><span class="c4">Always 0</span></p></td></tr></table><p class="c3 c10"><span class="c4"></span></p></body></html>
