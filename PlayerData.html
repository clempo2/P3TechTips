<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLROjXfSpIU_1TsQlCJ7q4WlXEixY9aqhie8CVYCrTb1E);ol{margin:0;padding:0}table td,table th{padding:0}.c2{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#e7e6e6;border-left-style:solid;border-bottom-width:1pt;width:255.1pt;border-top-color:#000000;border-bottom-style:solid}.c17{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:255.3pt;border-top-color:#000000;border-bottom-style:solid}.c21{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:134.4pt;border-top-color:#000000;border-bottom-style:solid}.c11{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:255.1pt;border-top-color:#000000;border-bottom-style:solid}.c16{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78pt;border-top-color:#000000;border-bottom-style:solid}.c8{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:176.7pt;border-top-color:#000000;border-bottom-style:solid}.c40{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:467.5pt;border-top-color:#000000;border-bottom-style:solid}.c9{margin-left:36pt;padding-top:12pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left;margin-right:-21.1pt}.c27{padding-top:12pt;text-indent:36pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c28{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left;margin-right:-21.1pt}.c34{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c14{padding-top:12pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c20{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c32{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c25{padding-top:0pt;padding-bottom:8pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c36{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c19{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c24{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c31{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c15{font-size:9.5pt;font-family:"Consolas";color:#0000ff;font-weight:400}.c41{color:#2f5496;font-weight:400;font-size:16pt;font-family:"Calibri"}.c13{color:#2f5496;font-weight:400;font-size:13pt;font-family:"Calibri"}.c30{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c23{font-size:9.5pt;font-family:"Consolas";color:#a31515;font-weight:400}.c4{font-size:8.5pt;font-family:"Consolas";color:#000000;font-weight:400}.c12{color:#000000;font-weight:400;font-size:9.5pt;font-family:"Consolas"}.c26{font-size:8.5pt;font-family:"Consolas";color:#a31515;font-weight:400}.c33{border-spacing:0;border-collapse:collapse;margin-right:auto}.c5{font-size:8.5pt;font-family:"Consolas";color:#008000;font-weight:400}.c6{font-size:8.5pt;font-family:"Consolas";color:#0000ff;font-weight:400}.c10{text-decoration:none;vertical-align:baseline;font-style:normal}.c29{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c39{border-spacing:0;border-collapse:collapse;margin-right:auto}.c1{margin-left:36pt;margin-right:-13.9pt}.c18{margin-left:36pt}.c38{text-indent:36pt}.c37{margin-right:-21.1pt}.c22{height:11pt}.c35{background-color:#e7e6e6}.c3{height:0pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:0pt;color:#2f5496;font-size:13pt;padding-bottom:8pt;font-family:"Calibri";line-height:1.0;orphans:2;widows:2;text-align:left}h3{padding-top:2pt;color:#1f3863;font-size:12pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c29 doc-content"><h1 class="c34"><span class="c10 c41">Player Data</span></h1><p class="c20"><span class="c7">Player Data is a storage solution to save the player&rsquo;s progress within the game. Each player has his own Player Data separate from all other players. Player Data is created new for each game. It is preserved from ball to ball but it lasts only till the end of the game.</span></p><p class="c20"><span>Player Data is documented here in the SDK Guide </span><span class="c30">file:///C:/P3/P3_SDK_V0.8/P3SampleApp/Documentation/html/_player_data.html</span><span class="c7">&nbsp;</span></p><p class="c20"><span>Player Data is stored in the </span><span class="c30">Player</span><span class="c7">&nbsp;instance accessible from a Mode. Beware the Player will be null before the game is started, like in P3SABaseGameMode or P3SAAttractMode. These Modes have no Player Data. That&rsquo;s fine because there is no Player progress to save at that time anyway.</span></p><h2 class="c25"><span class="c13 c10">AttributeValue</span></h2><p class="c20"><span class="c7">Player Data is implemented as a Dictionary&lt;string, AttributeValue&gt;.</span></p><p class="c14"><span>An </span><span class="c30">AttributeValue</span><span class="c7">&nbsp;is an object that can store a single value of type int, long, float, double, bool or string. When retrieving the value, it can convert to any of those types with ToInt(), ToLong(), ToFloat(), ToDouble(), ToBool() or ToString().</span></p><p class="c36 c18"><span class="c4 c10">AttributeValue attrValue = &hellip;;</span></p><p class="c31 c18"><span class="c4 c10">data.currentPlayer.SaveData(key, attrValue);</span></p><p class="c20 c18"><span class="c4 c10">int value = data.currentPlayer.GetData(key).ToInt()</span></p><p class="c14"><span class="c7">It is better to check if a key exists in the Dictionary first:</span></p><p class="c9"><span class="c4 c10">int value = data.currentPlayer.ContainsKey(key) ? data.currentPlayer.GetData(key).ToInt() : 0;</span></p><p class="c14"><span class="c7">In practice, you rarely call these methods because the Player class has easier helper methods.</span></p><h2 class="c25"><span class="c13 c10">Player Helper Methods</span></h2><p class="c14"><span class="c7">Calling SaveData() on the Player instance sets the value on the AttributeValue if it already exists, or it creates a new AttributeValue and stores it in the Dictionary. The type of value can be int, float, double, bool or string. See the section below for type long.</span></p><p class="c14 c18"><span class="c4 c10">data.currentPlayer.SaveData(key, value);</span></p><p class="c14"><span class="c7">Calling GetData() returns the defaultValue if the AttributeValue is absent, otherwise it returns the AttributeValue&rsquo;s value converted to the same type as defaultValue. </span></p><p class="c14 c18"><span class="c4 c10">value = data.currentPlayer.GetData(key, defaultValue);</span></p><p class="c14"><span>The score is stored in Player Data and it has its dedicated methods. SetScore()/GetScore() simply saves and gets the data for the key named &quot;Score&quot;. These score methods are rarely called directly because the score is normally handled by the </span><span class="c30">ScoreManager</span><span class="c7">.</span></p><p class="c27"><span class="c4 c10">long score = data.currentPlayer.GetScore()</span></p><p class="c20 c38"><span class="c4 c10">data.currentPlayer.SetScore(score)</span></p><p class="c14"><span class="c7">You can remove a key from the Dictionary, though this is rarely needed.</span></p><p class="c14 c18"><span class="c4 c10">data.currentPlayer.RemoveData(key);</span></p><p class="c14"><span class="c7">There are methods to load and save the Player Data in a file. These are used by savepoints.</span></p><p class="c36 c18"><span class="c4 c10">data.currentPlayer.LoadDataFromFile(filename)</span></p><p class="c20 c18"><span class="c4 c10">data.currentPlayer.SaveDataToFile(filename)</span></p><p class="c14"><span class="c7">So far, we only showed how to call the methods on the currentPlayer because that&rsquo;s the most common. It is also possible to access the Player Data for any player by accessing the Players List with a player index from 0 to data.Players.Count - 1.</span></p><p class="c14 c18"><span class="c4 c10">data.Players[playerIndex].GetData(key, defaultValue)</span></p><h2 class="c25"><span class="c13 c10">SaveData for Long</span></h2><p class="c14"><span class="c7">The method Player.SaveData(string key, long dataToSave) is missing in P3_SDK_V0.8. If you call SaveData() with a long, it is converted to a float by the C# implicit conversion rules and then to string. The GetData() method can handle a long and will convert the string back to the original long. You will not see the difference unless the value is out of range, or you convert to string. </span></p><p class="c18 c28"><span class="c4 c10">long myLong = 123;</span></p><p class="c28 c18"><span class="c4 c10">data.currentPlayer.SaveData(&quot;MyLong&quot;, myLong);</span></p><p class="c28 c18"><span class="c4 c10">string myLongAsString = data.currentPlayer.GetData(&quot;MyLong&quot;, &quot;unknown&quot;); &nbsp;// returns &quot;123.00&quot;</span></p><p class="c20 c18 c37"><span class="c4 c10">string myLong2 = data.currentPlayer.GetData(&quot;MyLong&quot;, 0L); // returns 123</span></p><p class="c20"><span class="c7">The score value is a long and it has the same problem. This is more important because the maximum long you can store accurately is 10,000,000. You can store bigger long values, but you start to lose accuracy.</span></p><p class="c31 c18"><span class="c4 c10">long score = 10000001;</span></p><p class="c31 c18"><span class="c4 c10">data.currentPlayer.SetScore(score);</span></p><p class="c18 c31"><span class="c4 c10">string scoreString = data.currentPlayer.GetData(&quot;Score&quot;).ToString(); &nbsp;// returns 10000000.00</span></p><p class="c20 c18"><span class="c4 c10">long storedScore = data.currentPlayer.GetScore(); &nbsp; // returns 10000000, lost 1</span></p><p class="c14"><span class="c7">Multimorphic promises to add the missing SaveData() method in the next SDK release and I expect that will also fix the score.</span></p><h2 class="c25"><span class="c13 c10">Type Conversion</span></h2><p class="c14"><span class="c7">SaveData() stores the type in the AttributeValue when it creates it initially. The type never changes afterwards even if saving a value with a different type.</span></p><p class="c14"><span class="c7">The type must be remembered because it affects how the value is converted to string.</span></p><p class="c0 c18"><span class="c4">data.currentPlayer.SaveData(</span><span class="c26">&quot;MyInt&quot;</span><span class="c4 c10">, 1);</span></p><p class="c0 c18"><span class="c4">data.currentPlayer.SaveData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4 c10">, true);</span></p><p class="c0 c18 c22"><span class="c4 c10"></span></p><p class="c0 c18"><span class="c6">string</span><span class="c4">&nbsp;myIntType = data.currentPlayer.GetData(</span><span class="c26">&quot;MyInt&quot;</span><span class="c4">).type; &nbsp;</span><span class="c5">// returns &quot;System.Int32&quot;</span></p><p class="c0 c18"><span class="c6">string</span><span class="c4">&nbsp;myBoolType = data.currentPlayer.GetData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4">).type; &nbsp; </span><span class="c5 c10">// returns &quot;System.Boolean&quot;</span></p><p class="c0 c18 c22"><span class="c5 c10"></span></p><p class="c0 c18"><span class="c6">string</span><span class="c4">&nbsp;myIntStr = data.currentPlayer.GetData(</span><span class="c26">&quot;MyInt&quot;</span><span class="c4">).ToString(); &nbsp;</span><span class="c5">// returns &quot;1&quot;</span></p><p class="c0 c18"><span class="c6">string</span><span class="c4">&nbsp;myBoolStr = data.currentPlayer.GetData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4">).ToString(); &nbsp;</span><span class="c5">// returns &quot;True&quot;</span></p><p class="c0 c18 c22"><span class="c5 c10"></span></p><p class="c0 c18"><span class="c4">data.currentPlayer.SaveData(</span><span class="c26">&quot;MyInt&quot;</span><span class="c4 c10">, 0); &nbsp;// Save the same value in both</span></p><p class="c0 c18"><span class="c4">data.currentPlayer.SaveData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4 c10">, 0); // Converts int to bool</span></p><p class="c0 c18 c22"><span class="c4 c10"></span></p><p class="c0 c18"><span class="c6">string</span><span class="c4">&nbsp;myIntStr0 = data.currentPlayer.GetData(</span><span class="c26">&quot;MyInt&quot;</span><span class="c4">).ToString(); &nbsp;</span><span class="c5">// returns &quot;0&quot;</span></p><p class="c0 c18"><span class="c6">string</span><span class="c4">&nbsp;myBoolStr0 = data.currentPlayer.GetData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4">).ToString(); &nbsp;</span><span class="c5 c10">// returns &quot;False&quot;</span></p><p class="c14"><span class="c7">Be careful with type conversion. There is a bug when converting with data.currentPlayer.SaveData(key, value). This works when calling data.currentPlayer.GetData(key).Set(value) .</span></p><p class="c0 c1"><span class="c4">data.currentPlayer.SaveData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4 c10">, 1); // Convert int to bool with SaveData() is buggy</span></p><p class="c0 c1"><span class="c6">string</span><span class="c4">&nbsp;myBoolStrBug = data.currentPlayer.GetData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4">).ToString(); &nbsp;</span><span class="c5 c10">// returns &quot;False&quot;???</span></p><p class="c0 c1 c22"><span class="c5 c10"></span></p><p class="c0 c1"><span class="c4">data.currentPlayer.GetData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4 c10">).Set(1); // Convert int to bool with Set() works</span></p><p class="c0 c1"><span class="c6">string</span><span class="c4">&nbsp;myBoolStrOk = data.currentPlayer.GetData(</span><span class="c26">&quot;MyBool&quot;</span><span class="c4">).ToString(); &nbsp;</span><span class="c5 c10">// returns &quot;True&quot;</span></p><p class="c14"><span class="c7">It might be best to avoid type conversion with Player Data and always use the same type for a specific key.</span></p><h2 class="c25"><span class="c13 c10">Team Play</span></h2><p class="c14"><span class="c7">When Team Play is enabled, Players with the same Profile are in the same team and share their progress. This is implemented by sharing the Player Data. Concretely, all Players in the team reuse the same Dictionary instance to store the Player Data. This is configured at the start of the game when the Players are created, probably with this Player method:</span></p><p class="c20 c18"><span class="c4 c10">void SetDataDict (Dictionary&lt;string, AttributeValue&gt; newData)</span></p><h2 class="c25"><span class="c13 c10">LoadPlayerData/SavePlayerData</span></h2><p class="c14"><span class="c7">The easiest strategy to manage Player Data is to always retrieve the value whenever it is needed. This is not a costly operation. This is the best strategy if multiple Modes access the same Player Data key.</span></p><p class="c18 c36"><span class="c4 c10">int numAliens = data.currentPlayer.GetData(&quot;NumAliens&quot;, 3);</span></p><p class="c20 c18"><span class="c4 c10">data.currentPlayer.SaveData(&quot;NumAliens&quot;, numAliens + 1);</span></p><p class="c14"><span class="c7">Another strategy is to load the Player Data values in member variables when the Mode starts, and save the values in Player Data when the Mode stops. This is a good approach when that Player Data is managed by a single Mode. Another reason might be to organize multiple Player Data values into a data structure like an array or a List for easier indexing.</span></p><p class="c14"><span class="c7">This can be implemented directly in mode_started() and mode_stopped() but the SDK has built-in methods that make the intention clearer.</span></p><p class="c14"><span class="c7">Code similar to this can be found in LanesMode in P3SampleApp:</span></p><a id="t.5eb6fa3619b234ef9bbd7bd91e9e6bd31d21b280"></a><a id="t.0"></a><table class="c33"><tr class="c3"><td class="c40" colspan="1" rowspan="1"><p class="c32"><span class="c15">public</span><span class="c12">&nbsp;</span><span class="c15">override</span><span class="c12">&nbsp;</span><span class="c15">void</span><span class="c12 c10">&nbsp;LoadPlayerData() {</span></p><p class="c0"><span class="c12">&nbsp; &nbsp; numCompletions = data.currentPlayer.GetData(</span><span class="c23">&quot;NumLaneCompletions&quot;</span><span class="c12 c10">, 0);</span></p><p class="c0 c22"><span class="c12 c10"></span></p><p class="c0"><span class="c12">&nbsp; &nbsp; laneStates = </span><span class="c15">new</span><span class="c12">&nbsp;List&lt;</span><span class="c15">bool</span><span class="c12 c10">&gt;();</span></p><p class="c0"><span class="c12">&nbsp; &nbsp; </span><span class="c15">for</span><span class="c12">&nbsp;(</span><span class="c15">int</span><span class="c12 c10">&nbsp;i=0; i&lt;4; i++) {</span></p><p class="c0"><span class="c12">&nbsp; &nbsp; &nbsp; &nbsp; laneStates[i] = data.currentPlayer.GetData(</span><span class="c23">&quot;LaneStates&quot;</span><span class="c12">&nbsp;+ i, </span><span class="c15">false</span><span class="c12 c10">);</span></p><p class="c0"><span class="c12 c10">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c12">}</span></p><p class="c0 c22"><span class="c12 c10"></span></p><p class="c0"><span class="c15">public</span><span class="c12">&nbsp;</span><span class="c15">override</span><span class="c12">&nbsp;</span><span class="c15">void</span><span class="c10 c12">&nbsp;SavePlayerData() {</span></p><p class="c0"><span class="c12">&nbsp; &nbsp; data.currentPlayer.SaveData(</span><span class="c23">&quot;NumLaneCompletions&quot;</span><span class="c12 c10">, numCompletions);</span></p><p class="c0"><span class="c15">&nbsp; &nbsp; for</span><span class="c12">&nbsp;(</span><span class="c15">int</span><span class="c12 c10">&nbsp;i=0; i&lt;4; i++) {</span></p><p class="c0"><span class="c12">&nbsp; &nbsp; &nbsp; &nbsp; data.currentPlayer.SaveData(</span><span class="c23">&quot;LaneStates&quot;</span><span class="c12 c10">&nbsp;+ i, laneStates[i]);</span></p><p class="c0"><span class="c12 c10">&nbsp; &nbsp; }</span></p><p class="c24"><span class="c12">}</span></p></td></tr></table><p class="c14"><span class="c7">The method LoadPlayerData() is called by the GameMode superclass. For this to work, make sure your mode_started() method calls base.mode_started().</span></p><p class="c14"><span class="c7">Similarly, the method SavePlayerData() is called by the GameMode superclass. Make sure your mode_stopped() method calls base.mode_stopped().</span></p><h2 class="c25"><span class="c13 c10">ExtraBallCount</span></h2><p class="c14"><span class="c7">The Player instance holds another piece of Player Data. The Player instance has a member named extraBallCount which counts how many extra balls the player has earned and not used yet. Since this value is not in the Player Data Dictionary, it is not preserved when saving and restoring savepoints.</span></p><p class="c14"><span class="c7">HudMode has the ability to show if the player has an extra ball available or not. P3SampleApp never awards an extra ball, so this will always show the Player has no extra ball in this game.</span></p><p class="c14"><span class="c7">NextBallMode is responsible to check the extraBallCount. If there is an extra ball available, the same Player will be asked to shoot again.</span></p><h2 class="c25"><span class="c10 c13">Player Data in the SDK</span></h2><p class="c20"><span class="c7">This table lists the Player Data used by the SDK. The application is free to create more Player Data with non-conflicting keys.</span></p><a id="t.e1f587f19cd4afe698cbd49bfe94f1d0095550f8"></a><a id="t.1"></a><table class="c33"><tr class="c3"><td class="c21 c35" colspan="1" rowspan="1"><p class="c19"><span class="c7">Key</span></p></td><td class="c16 c35" colspan="1" rowspan="1"><p class="c19"><span class="c7">Type</span></p></td><td class="c2" colspan="1" rowspan="1"><p class="c19"><span class="c7">Description</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">BonusX</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">float</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Saves ScoreManager.GetBonusX() when the ball ends, this BonusX will be reapplied when the next ball starts if the Player Data HoldBonusX is True.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">GameRestored</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">bool</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Whether this Player Data comes from a restored savepoint. This is used to deny a replay if the game was restored.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">HighestBonus</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">long</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Best end of ball bonus by a single ball among balls already ended. Computed by the SDK but otherwise unused. The application can choose to use this value in an end of ball or end of game bonus for example.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">HighScoreNameEntered</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">string</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Name entered when prompted for a High Score Name Entry. This is used to show the results.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">HoldBonusX</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">bool</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Saves ScoreManager.GetHoldBonusX() when the ball ends to make it available when the next ball starts.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">Profile</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">string</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Profile name active for this player or &quot;&lt;None&gt;&quot; for the global profile. This is used to activate the profile when it is the player&rsquo;s turn. It is also used to compute the player name.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">ReplayAchieved</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">bool</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Whether this player earned a replay. This is used to award a replay only once per player per game.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">ReplayLevel</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">long</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Score needed to earn a replay by this player.</span></p><p class="c0"><span class="c7">Defaults to the value of the GameAttribute CurrentReplayScore. This is only effective if the GameAttribute ReplaysEnabled is true.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">Score</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">long</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Player&rsquo;s score. Managed by ScoreManager.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">SingleBallScore</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">long</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Best score by a single ball among balls already ended. Computed by the SDK but otherwise unused. The application can choose to use this value in an end of ball or end of game bonus for example.</span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">TeamMember</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">bool</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">Whether this player is part of a team. Default is False. This is used to deny a replay if the player is in a team. Also used to display the results. </span></p></td></tr><tr class="c3"><td class="c21" colspan="1" rowspan="1"><p class="c0"><span class="c7">TeamNumber</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c0"><span class="c7">int</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c0"><span class="c7">If the player is a TeamMember, this is the number of the team the player is a member of. Computed but otherwise unused by the SDK. **This value is broken in P3_SDK_V0.8, instead use the profile name if you need to index the teams**</span></p></td></tr></table><p class="c20 c22"><span class="c7"></span></p><p class="c20"><span class="c7">Technically, the SDK is unaware of BonusX and HoldBonusX in Player data. To implement HoldBonusX, the SDK needs help from the application. ScoreManager keeps track of the BonusX and HoldBonusX for the current ball. HomeMode saves these values in Player Data when the ball ends and reapplies the BonusX in ScoreManager when the next ball starts if HoldBonusX is true. See SavePlayerData() and LoadPlayerData() in HomeMode. This functionality is important to preserve if your application supports HoldBonusX and has multiple scenes.</span></p><p class="c20"><span class="c7">Note: scoreX and lastBallNumber is mostly dead code in HomeMode, so I&rsquo;m not talking about it here.</span></p><p class="c20"><span class="c7">See Appendix A for a list of Player Data specific to P3SampleApp.</span></p><h2 class="c25"><span class="c13 c10">Listing Player Data</span></h2><p class="c14"><span class="c7">As an experiment, it is possible to access the Player Data Dictionary and enumerate all entries with code like this:</span></p><a id="t.9bf5d465641b8ea00c7e06e07b23a70d8e42148a"></a><a id="t.2"></a><table class="c33"><tr class="c3"><td class="c40" colspan="1" rowspan="1"><p class="c32"><span class="c4">System.Text.StringBuilder sb = </span><span class="c6">new</span><span class="c4 c10">&nbsp;System.Text.StringBuilder();</span></p><p class="c0"><span class="c4">sb.AppendLine(</span><span class="c26">&quot;Player Data:&quot;</span><span class="c4 c10">);</span></p><p class="c0"><span class="c6">foreach</span><span class="c4">&nbsp;(</span><span class="c6">string</span><span class="c4">&nbsp;name </span><span class="c6">in</span><span class="c4 c10">&nbsp;data.currentPlayer.GetDataDict().Keys.OrderBy(key =&gt; key)) {</span></p><p class="c0"><span class="c4 c10">&nbsp; &nbsp; Multimorphic.P3App.Data.AttributeValue attrValue = data.currentPlayer.GetData(name);</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; sb.AppendLine(</span><span class="c26">&quot; &nbsp;&quot;</span><span class="c4">&nbsp;+ name + </span><span class="c26">&quot;=&quot;</span><span class="c4">&nbsp;+ attrValue.ToString() + </span><span class="c26">&quot; &nbsp; // type=&quot;</span><span class="c4 c10">&nbsp;+ attrValue.type);</span></p><p class="c0"><span class="c4 c10">}</span></p><p class="c24"><span class="c4 c10">Multimorphic.P3App.Logging.Logger.LogError(sb.ToString());</span></p></td></tr></table><p class="c14"><span class="c7">See Appendix A for sample output.</span></p><p class="c14"><span class="c7">The first thing you will notice is the GameAttributes also appear in Player Data. This feature is unfortunate and should not be relied upon. Player Data does not track changes to the settings during the game or between savepoint save and restore. Always read the GameAttributes with data.GetGameAttributeValue() instead.</span></p><p class="c14"><span class="c7">I noticed only the Profile specific GameAttributes are copied to Player Data when the Player is in a Profile. Could it be this feature was an early attempt to implement Profile specific GameAttributes?</span></p><h2 class="c25"><span class="c13 c10">Appendix A: P3SampleApp Player Data</span></h2><p class="c20"><span class="c7">This is the list of Player Data in P3SampleApp when the Player is running in a Profile named John. This was captured on ball 2 to make sure the modes populated the Player Data when they stopped (i.e. when ball 1 ended).</span></p><p class="c20"><span class="c7">Notice how HighestBonus appears as a System.Single in P3_SDK_V0.8. Without more information, you would think HighestBonus is a float when it is in fact a long. Same thing for the Score (and a few others).</span></p><p class="c20"><span class="c7">This output was edited to form two columns to make it easier to read.</span></p><p class="c31 c18"><span class="c7">Player Data:</span></p><a id="t.e629e7669604b8e8d00dcfdd06ab3d275d3c803f"></a><a id="t.3"></a><table class="c18 c39"><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; BallSaveGracePeriod=3 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; BallSaveTime=15 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; BonusX=1.00 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Single</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; Evt_LeftRampInc=0 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; Evt_RightRampInc=0 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; HighestBonus=5,000.00 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Single</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; HoldBonusX=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; HomeAttempted=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; HomeAttemptedOnce=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; HomeCompleted=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; JohnDataVersion=1 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; LaneStates0=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; LaneStates1=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; LaneStates2=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; LaneStates3=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; LastBallNumber=1 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; ModeLitOnBallStart=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; MyLong=123.00 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Single</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; NumLaneCompletions=0 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; PlayGameIntro=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; Profile=John </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.String</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; ProfileStateSaveEnabled=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; ReplayAchieved=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; ReplayLevel=8,000,000.00 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Single</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; Score=29,900.00 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Single</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetComplete=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetDifficulty=0 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Int32</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates0=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates1=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates2=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates3=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates4=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates5=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates6=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SideTargetStates7=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; SingleBallScore=24,900.00 </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Single</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; UseOtherFlipperButtons=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; UserProfileEditingEnabled=True </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c0"><span class="c7">&nbsp; UseSecondaryFlipperButtons=False </span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c0"><span class="c7">// type=System.Boolean</span></p></td></tr></table><p class="c31 c22"><span class="c7"></span></p></body></html>