<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLROjXfSpIU_1TsQlCJ7q4WlXEixY9aqhie8CVYCrTb1E);.lst-kix_list_4-1>li{counter-increment:lst-ctn-kix_list_4-1}ol.lst-kix_list_3-1{list-style-type:none}ol.lst-kix_list_3-2{list-style-type:none}.lst-kix_list_3-1>li{counter-increment:lst-ctn-kix_list_3-1}ol.lst-kix_list_3-3{list-style-type:none}ol.lst-kix_list_3-4.start{counter-reset:lst-ctn-kix_list_3-4 0}ol.lst-kix_list_3-4{list-style-type:none}.lst-kix_list_2-1>li{counter-increment:lst-ctn-kix_list_2-1}ul.lst-kix_list_1-0{list-style-type:none}ol.lst-kix_list_3-0{list-style-type:none}ol.lst-kix_list_2-6.start{counter-reset:lst-ctn-kix_list_2-6 0}.lst-kix_list_3-0>li:before{content:"" counter(lst-ctn-kix_list_3-0,lower-latin) ") "}ol.lst-kix_list_3-1.start{counter-reset:lst-ctn-kix_list_3-1 0}.lst-kix_list_3-1>li:before{content:"" counter(lst-ctn-kix_list_3-1,lower-latin) ". "}.lst-kix_list_3-2>li:before{content:"" counter(lst-ctn-kix_list_3-2,lower-roman) ". "}.lst-kix_list_4-0>li{counter-increment:lst-ctn-kix_list_4-0}ol.lst-kix_list_2-3.start{counter-reset:lst-ctn-kix_list_2-3 0}ul.lst-kix_list_1-3{list-style-type:none}.lst-kix_list_3-5>li:before{content:"" counter(lst-ctn-kix_list_3-5,lower-roman) ". "}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}.lst-kix_list_3-4>li:before{content:"" counter(lst-ctn-kix_list_3-4,lower-latin) ". "}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_3-3>li:before{content:"" counter(lst-ctn-kix_list_3-3,decimal) ". "}ol.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ol.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ol.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ol.lst-kix_list_3-8{list-style-type:none}.lst-kix_list_3-8>li:before{content:"" counter(lst-ctn-kix_list_3-8,lower-roman) ". "}.lst-kix_list_2-0>li{counter-increment:lst-ctn-kix_list_2-0}.lst-kix_list_2-3>li{counter-increment:lst-ctn-kix_list_2-3}.lst-kix_list_3-6>li:before{content:"" counter(lst-ctn-kix_list_3-6,decimal) ". "}.lst-kix_list_4-3>li{counter-increment:lst-ctn-kix_list_4-3}.lst-kix_list_3-7>li:before{content:"" counter(lst-ctn-kix_list_3-7,lower-latin) ". "}ol.lst-kix_list_4-5.start{counter-reset:lst-ctn-kix_list_4-5 0}ol.lst-kix_list_3-7.start{counter-reset:lst-ctn-kix_list_3-7 0}ol.lst-kix_list_4-2.start{counter-reset:lst-ctn-kix_list_4-2 0}.lst-kix_list_3-2>li{counter-increment:lst-ctn-kix_list_3-2}ol.lst-kix_list_2-2{list-style-type:none}ol.lst-kix_list_2-3{list-style-type:none}ol.lst-kix_list_2-4{list-style-type:none}ol.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_4-4>li{counter-increment:lst-ctn-kix_list_4-4}ol.lst-kix_list_2-0{list-style-type:none}ol.lst-kix_list_2-1{list-style-type:none}.lst-kix_list_4-8>li:before{content:"" counter(lst-ctn-kix_list_4-8,lower-roman) ". "}.lst-kix_list_4-7>li:before{content:"" counter(lst-ctn-kix_list_4-7,lower-latin) ". "}ol.lst-kix_list_4-1.start{counter-reset:lst-ctn-kix_list_4-1 0}ol.lst-kix_list_4-8.start{counter-reset:lst-ctn-kix_list_4-8 0}ol.lst-kix_list_3-3.start{counter-reset:lst-ctn-kix_list_3-3 0}ol.lst-kix_list_2-6{list-style-type:none}ol.lst-kix_list_2-7{list-style-type:none}ol.lst-kix_list_2-8{list-style-type:none}.lst-kix_list_3-0>li{counter-increment:lst-ctn-kix_list_3-0}.lst-kix_list_3-3>li{counter-increment:lst-ctn-kix_list_3-3}ol.lst-kix_list_4-0.start{counter-reset:lst-ctn-kix_list_4-0 0}.lst-kix_list_3-6>li{counter-increment:lst-ctn-kix_list_3-6}.lst-kix_list_2-5>li{counter-increment:lst-ctn-kix_list_2-5}.lst-kix_list_2-8>li{counter-increment:lst-ctn-kix_list_2-8}ol.lst-kix_list_3-2.start{counter-reset:lst-ctn-kix_list_3-2 0}.lst-kix_list_2-2>li{counter-increment:lst-ctn-kix_list_2-2}ol.lst-kix_list_2-4.start{counter-reset:lst-ctn-kix_list_2-4 0}ol.lst-kix_list_4-7.start{counter-reset:lst-ctn-kix_list_4-7 0}.lst-kix_list_2-6>li:before{content:"" counter(lst-ctn-kix_list_2-6,decimal) ". "}.lst-kix_list_2-7>li:before{content:"" counter(lst-ctn-kix_list_2-7,lower-latin) ". "}.lst-kix_list_2-7>li{counter-increment:lst-ctn-kix_list_2-7}.lst-kix_list_3-7>li{counter-increment:lst-ctn-kix_list_3-7}.lst-kix_list_2-4>li:before{content:"" counter(lst-ctn-kix_list_2-4,lower-latin) ". "}.lst-kix_list_2-5>li:before{content:"" counter(lst-ctn-kix_list_2-5,lower-roman) ". "}.lst-kix_list_2-8>li:before{content:"" counter(lst-ctn-kix_list_2-8,lower-roman) ". "}ol.lst-kix_list_4-6.start{counter-reset:lst-ctn-kix_list_4-6 0}ol.lst-kix_list_3-0.start{counter-reset:lst-ctn-kix_list_3-0 0}ol.lst-kix_list_4-3.start{counter-reset:lst-ctn-kix_list_4-3 0}.lst-kix_list_4-7>li{counter-increment:lst-ctn-kix_list_4-7}ol.lst-kix_list_3-8.start{counter-reset:lst-ctn-kix_list_3-8 0}ol.lst-kix_list_2-5.start{counter-reset:lst-ctn-kix_list_2-5 0}.lst-kix_list_4-0>li:before{content:"" counter(lst-ctn-kix_list_4-0,lower-latin) ") "}.lst-kix_list_2-6>li{counter-increment:lst-ctn-kix_list_2-6}.lst-kix_list_3-8>li{counter-increment:lst-ctn-kix_list_3-8}.lst-kix_list_4-1>li:before{content:"" counter(lst-ctn-kix_list_4-1,lower-latin) ". "}.lst-kix_list_4-6>li{counter-increment:lst-ctn-kix_list_4-6}.lst-kix_list_4-4>li:before{content:"" counter(lst-ctn-kix_list_4-4,lower-latin) ". "}ol.lst-kix_list_2-2.start{counter-reset:lst-ctn-kix_list_2-2 0}.lst-kix_list_4-3>li:before{content:"" counter(lst-ctn-kix_list_4-3,decimal) ". "}.lst-kix_list_4-5>li:before{content:"" counter(lst-ctn-kix_list_4-5,lower-roman) ". "}.lst-kix_list_4-2>li:before{content:"" counter(lst-ctn-kix_list_4-2,lower-roman) ". "}.lst-kix_list_4-6>li:before{content:"" counter(lst-ctn-kix_list_4-6,decimal) ". "}.lst-kix_list_3-5>li{counter-increment:lst-ctn-kix_list_3-5}ol.lst-kix_list_4-0{list-style-type:none}.lst-kix_list_3-4>li{counter-increment:lst-ctn-kix_list_3-4}ol.lst-kix_list_4-1{list-style-type:none}ol.lst-kix_list_4-4.start{counter-reset:lst-ctn-kix_list_4-4 0}ol.lst-kix_list_4-2{list-style-type:none}ol.lst-kix_list_4-3{list-style-type:none}.lst-kix_list_2-4>li{counter-increment:lst-ctn-kix_list_2-4}ol.lst-kix_list_3-6.start{counter-reset:lst-ctn-kix_list_3-6 0}ol.lst-kix_list_2-8.start{counter-reset:lst-ctn-kix_list_2-8 0}ol.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_1-0>li:before{content:"-  "}ol.lst-kix_list_4-4{list-style-type:none}ol.lst-kix_list_4-5{list-style-type:none}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ol.lst-kix_list_2-0.start{counter-reset:lst-ctn-kix_list_2-0 0}ol.lst-kix_list_4-6{list-style-type:none}ol.lst-kix_list_4-7{list-style-type:none}.lst-kix_list_1-3>li:before{content:"\0025cf   "}.lst-kix_list_1-4>li:before{content:"o  "}ol.lst-kix_list_3-5.start{counter-reset:lst-ctn-kix_list_3-5 0}.lst-kix_list_4-8>li{counter-increment:lst-ctn-kix_list_4-8}.lst-kix_list_1-7>li:before{content:"o  "}ol.lst-kix_list_2-7.start{counter-reset:lst-ctn-kix_list_2-7 0}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_1-6>li:before{content:"\0025cf   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_2-0>li:before{content:"" counter(lst-ctn-kix_list_2-0,lower-latin) ") "}.lst-kix_list_2-1>li:before{content:"" counter(lst-ctn-kix_list_2-1,lower-latin) ". "}ol.lst-kix_list_2-1.start{counter-reset:lst-ctn-kix_list_2-1 0}.lst-kix_list_4-5>li{counter-increment:lst-ctn-kix_list_4-5}.lst-kix_list_1-8>li:before{content:"\0025aa   "}.lst-kix_list_2-2>li:before{content:"" counter(lst-ctn-kix_list_2-2,lower-roman) ". "}.lst-kix_list_2-3>li:before{content:"" counter(lst-ctn-kix_list_2-3,decimal) ". "}.lst-kix_list_4-2>li{counter-increment:lst-ctn-kix_list_4-2}ol{margin:0;padding:0}table td,table th{padding:0}.c19{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:517.1pt;border-top-color:#000000;border-bottom-style:solid}.c4{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:233.8pt;border-top-color:#000000;border-bottom-style:solid}.c23{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:467.5pt;border-top-color:#000000;border-bottom-style:solid}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Consolas";font-style:normal}.c12{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c5{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:-42.2pt}.c27{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Courier New";font-style:normal}.c3{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c40{color:#2f5496;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Calibri";font-style:normal}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Consolas";font-style:normal}.c30{padding-top:2pt;padding-bottom:0pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Calibri";font-style:normal}.c10{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:-35.1pt}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:-42.2pt}.c38{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9.5pt;font-family:"Consolas";font-style:normal}.c9{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:7pt;font-family:"Courier New";font-style:normal}.c29{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c24{padding-top:0pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c25{padding-top:8pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c43{padding-top:12pt;padding-bottom:0pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c44{padding-top:18pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c39{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c2{padding-top:0pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c8{padding-top:6pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c7{padding-top:12pt;padding-bottom:8pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c11{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c31{padding-top:6pt;padding-bottom:6pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c41{padding-top:0pt;padding-bottom:6pt;line-height:1.0791666666666666;orphans:2;widows:2;text-align:left}.c6{border-spacing:0;border-collapse:collapse;margin-right:auto}.c42{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c45{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c28{font-size:8pt;font-family:"Consolas";font-weight:400}.c32{padding:0;margin:0}.c15{margin-right:-35.2pt;height:11pt}.c35{color:inherit;text-decoration:inherit}.c18{height:11pt}.c37{margin-right:-42.2pt}.c20{height:0pt}.c16{margin-left:36pt}.c26{padding-left:0pt}.c21{margin-right:-35.2pt}.c22{text-indent:36pt}.c33{margin-right:-35.1pt}.c36{margin-left:35.5pt}.c34{background-color:#e7e6e6}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0791666666666666;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Calibri"}p{margin:0;color:#000000;font-size:11pt;font-family:"Calibri"}h1{padding-top:12pt;color:#2f5496;font-size:16pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:2pt;color:#2f5496;font-size:13pt;padding-bottom:0pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Calibri";line-height:1.0791666666666666;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c45 doc-content"><h1 class="c12"><span class="c40">P3SampleApp on Physical Machine</span></h1><p class="c2 c18"><span class="c1"></span></p><p class="c2"><span class="c1">The goal is to run P3SampleApp on the physical machine. P3SampleApp has some quirks that make it unpleasant or down right impossible to play on the physical machine. With just a few tweaks, it becomes possible to play a complete game until the last ball ends.</span></p><h2 class="c30"><span class="c3">Module IDs</span></h2><p class="c2"><span class="c1">In this TechTip we will be using the Module IDs to refer to the various upper playfield modules. Here is a table of the known Module IDs so far:</span></p><a id="t.829be3b0bd5a4da76293dcc990059b8cb5b14a22"></a><a id="t.0"></a><table class="c6"><tr class="c20"><td class="c4 c34" colspan="1" rowspan="1"><p class="c39"><span class="c1">Module ID</span></p></td><td class="c4 c34" colspan="1" rowspan="1"><p class="c39"><span class="c1">Module Name</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">CL</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Canon Lagoon</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">LL-EE</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Lexy Lightspeed &ndash; Escape from Earth</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">CCR</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Cosmic Cart Racing</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Heist</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Heist</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">WAMONH</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Weird Al&rsquo;s Museum of Natural Hilarity</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Drained</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Drained</span></p></td></tr><tr class="c20"><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">FR</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c13"><span class="c1">Final Resistance</span></p></td></tr></table><h2 class="c12"><span class="c3">Copy P3SampleApp</span></h2><p class="c2"><span class="c1">Copy the source code of P3SampleApp because we will be making small changes to it.</span></p><p class="c2"><span class="c1">For example, copy C:\P3\P3_SDK_V0.8\P3SampleApp to C:\P3\P3SampleAppAgnostic</span></p><h2 class="c30"><span class="c3">Simulator</span></h2><p class="c24"><span class="c1">Before testing an application on the physical machine, it is often worthwhile to try it in the simulator first.</span></p><p class="c24"><span class="c1">The module that is emulated when running in the simulator is specified in the file C:\P3\P3SampleAppAgnostic\Configuration\AppConfig.json</span></p><p class="c24 c18"><span class="c1"></span></p><p class="c24"><span class="c1">For example, you can change:</span></p><p class="c24 c22"><span class="c27">&quot;ModuleID&quot;: &quot;CCR&quot;,</span></p><p class="c24"><span class="c1">to:</span></p><p class="c2"><span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ModuleID&quot;: &quot;WAMONH&quot;,</span></p><p class="c2"><span class="c1">The simulator will then emulate WAMONH instead of CCR. That also changes the LEDs displayed by the LEDSimulator. You don&rsquo;t have to restart Unity for this change to take effect, but you will have to stop and restart Play mode if the application is already running.</span></p><p class="c2"><span class="c1">You need the corresponding module driver installed in your %HOMEDRIVE%%HOMEPATH%\.multimorphic\P3\ModuleDrivers directory.</span></p><p class="c2"><span class="c1">P3_SDK_V0.8 ships with the module drivers for CCR, CL, Heist, LL-EE and WAMONH. Hopefully, the module drivers for Drained and FR will ship in the next version of the SDK. You may not be able to run the simulator with Drained or FR, but the app can be run in the physical machine with those modules installed.</span></p><p class="c2"><span class="c1">When you change the ModuleID, many of the key mappings become invalid in the AppConfig.json because these switches no longer exist for that module. This will not stop the application from running. You might want to remove the invalid mappings, or define the appropriate mappings for the new module. This is not strictly necessary.</span></p><p class="c2"><span class="c1">The AppConfig.json file is used exclusively by the simulator and is not deployed on the machine with the app package.</span></p><h2 class="c30"><span class="c3">Ball Paths</span></h2><p class="c2"><span>WAMONH used a new syntax for the BallPaths CompletedEvent and that breaks the P3SampleApp application. See this </span><span class="c42"><a class="c35" href="HandlingBallPathEventsOnWAMONH.html">P3TechTip</a></span><span class="c1">&nbsp;for more explanation.</span></p><p class="c2"><span class="c1">To add support for WAMONH in P3SampleApp, edit C:\P3\P3SampleAppAgnostic\Assets\Scripts\Modes\SceneModes\HomeMode.cs and change this code in the HomeMode constructor:</span></p><a id="t.d9040aa8cf7b3a620e1e4a5d9374a5fbb8aa685c"></a><a id="t.1"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11 c37"><span class="c27">&nbsp; &nbsp; if (shot.ExitType == BallPathExitType.Target)</span></p><p class="c0"><span class="c27">&nbsp; &nbsp; {</span></p><p class="c0"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; string[] strippedSwitchName = shot.StartedEvent.Split(&#39;_&#39;); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// format of switch event must be &quot;sw_&lt;switch name&gt;_active&quot; for started events</span></p><p class="c0"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; string swName = strippedSwitchName[1];</span></p><p class="c0"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; add_switch_handler(swName, &quot;active&quot;, 0, TargetHitEventHandler);</span></p><p class="c5"><span class="c27">&nbsp; &nbsp; }</span></p></td></tr></table><p class="c31"><span class="c1">to:</span></p><a id="t.4f2000378858ff70f3ea4f4a543d0478708fedc4"></a><a id="t.2"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11"><span class="c27">&nbsp; &nbsp; if (shot.ExitType == BallPathExitType.Target)</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; {</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; // If the completed event looks like a standard switch handler definition,</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; // parse and add a normal switch handler. &nbsp;Otherwise, use the completed event</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; // with a mode2mode handler.</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; if (shot.CompletedEvent.Contains(&quot;_inactive&quot;))</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string[] strippedSwitchName = shot.CompletedEvent.Split(&#39;_&#39;); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// format of switch event must be &quot;sw_&lt;switch name&gt;_active&quot; for started events</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string swName = strippedSwitchName[1];</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; add_switch_handler(swName, &quot;active&quot;, 0, TargetHitEventHandler);</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddModeEventHandler(shot.CompletedEvent, TargetPathHitEventHandler, priority);</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c29"><span class="c27">&nbsp; &nbsp; }</span></p></td></tr></table><p class="c31"><span class="c1">Also add the implementation of TargetPathHitEventHandler() in HomeMode.cs right after TargetHitEventHandler():</span></p><a id="t.b8a1dcc423f182c064ec23cd291c6821827d579f"></a><a id="t.3"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; private bool TargetPathHitEventHandler(string evtName, object evtData)</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Add target path hit logic here or move the subscription and this code into a relevant child mode to process target path hits</span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // for your game.</span></p><p class="c13 c18"><span class="c27"></span></p><p class="c13"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SWITCH_CONTINUE;</span></p><p class="c29"><span class="c27">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p></td></tr></table><h2 class="c12"><span class="c3">Sink Holes</span></h2><p class="c31"><span class="c1">If you play the game as it stands, you will quickly notice that balls entering a sink hole never reappear. Ball search activates but of course it cannot find the ball underneath the playfield. What we need to do is relaunch the ball whenever the ball enters a hole.</span></p><p class="c31"><span class="c1">Edit HomeMode.cs and change the definition of HoleHitEventHandler() to:</span></p><a id="t.b29103fb2c5fbbeec023951bbc592bb228c25dea"></a><a id="t.4"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; private bool HoleHitEventHandler(string evtName, object evtData)</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Add hole hit logic here or move the subscription and this code into a relevant child mode to process hole hits</span></p><p class="c24"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // for your game.</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P3SABallLauncher.launch();</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SWITCH_CONTINUE;</span></p><p class="c41"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p></td></tr></table><h2 class="c12"><span class="c3">Ball Launchers</span></h2><p class="c2"><span class="c1">P3SampleApp in P3_SDK_V0.8 can handle the ball launchers for all modules announced up to November 2023 except for Drained. </span></p><p class="c2"><span class="c1">P3SampleApp defines two ball launchers from where the balls can be put in play. The application calls them VUK_LEFT and VUK_RIGHT. Each ball launcher consists of the primary launcher and one or more backup launchers in case the primary failed to serve the ball.</span></p><p class="c2"><span class="c1">The original P3SampleApp strategy was to use the launcher feeding the left inlane for VUK_LEFT and the launcher feeding the right inlane for VUK_RIGHT, both serving as backups for each other. If the module could feed only one of the inlanes, then both VUK_LEFT and VUK_RIGHT were identical with no backup launcher.</span></p><p class="c2"><span class="c1">LL-EE, CL, Heist and WAMONH have launchers feeding both inlanes. Note feeding the left inlane on Heist is not ideal because it needs to go through the staging area which slows down the launch.</span></p><p class="c2"><span class="c1">CCR and FR can only feed one inlane, so all balls will come out from the same VUK.</span></p><p class="c2"><span class="c1">Drained cannot feed the inlanes or the lower playfield. The ball will be fed to the upper playfield instead. This is safe because we know the module layout and we know the ball will always make its way to the lower playfield.</span></p><p class="c2"><span class="c1">In case a new module is released later, we will feed to the inlanes if possible. If the module cannot feed the inlanes, then we will feed the ball to the lower playfield. It&rsquo;s not safe to feed the ball to the upper playfield in this case because the module layout is unknown.</span></p><p class="c2"><span class="c1">This code was intentionally kept simple. A production game would have more robust selection of the launchers. At a minimum, it should make sure to have a backup launcher to assist every primary launcher in case of failure.</span></p><p class="c2"><span class="c1">To add support for Drained, edit C:\P3\P3SampleAppAgnostic\Assets\Scripts\Modes\P3SABallLauncher.cs</span></p><p class="c2"><span class="c1">Add two using directives near the top of the file:</span></p><a id="t.b2a785de54d7068ab8ba2015fa63e1f015976a34"></a><a id="t.5"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c10"><span class="c9">using System.Collections.Generic;</span></p><p class="c29 c33"><span class="c9">using Multimorphic.P3App.Modes.PlayfieldModule;</span></p></td></tr></table><p class="c7"><span class="c1">Replace the Initialize() method with this code:</span></p><a id="t.8eefbec22feb0335480733e07660be6ea04fec9c"></a><a id="t.6"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c10"><span class="c9">public static void Initialize(Multimorphic.P3.P3Controller p3, DataManager Data)</span></p><p class="c13 c21"><span class="c9">{</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; data = Data;</span></p><p class="c24 c21"><span class="c9">&nbsp; &nbsp; BallLauncher.AssignP3(p3);</span></p><p class="c13 c15"><span class="c9"></span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; List&lt;TroughLauncher&gt; leftLaunchers = BallLauncher.GetTroughLaunchersForDestination(LaunchDestination.LeftInlane);</span></p><p class="c24 c21"><span class="c9">&nbsp; &nbsp; List&lt;TroughLauncher&gt; rightLaunchers = BallLauncher.GetTroughLaunchersForDestination(LaunchDestination.RightInlane);</span></p><p class="c13 c15"><span class="c9"></span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; if (leftLaunchers.Count == 0 &amp;&amp; rightLaunchers.Count == 0)</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; {</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; LaunchDestination secondChoiceDestination = PlayfieldModuleManager.GetPlayfieldModuleId() == &quot;Drained&quot; ?</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LaunchDestination.UpperPlayfield : LaunchDestination.LowerPlayfield;</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; leftLaunchers = BallLauncher.GetTroughLaunchersForDestination(secondChoiceDestination);</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; if (leftLaunchers.Count == 0)</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new System.Exception(&quot;Cannot find suitable TroughLaunchers&quot;);</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c24 c21"><span class="c9">&nbsp; &nbsp; }</span></p><p class="c13 c15"><span class="c9"></span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; // Assign primaries</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; BallLauncher.AssignTroughLauncher(leftLaunchers, VUK_LEFT);</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; BallLauncher.AssignTroughLauncher(rightLaunchers, VUK_RIGHT);</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; </span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; // Assign backups for each VUK. &nbsp;The backup is the opposite VUK.</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; BallLauncher.AssignTroughLauncher(rightLaunchers, VUK_RIGHT);</span></p><p class="c13 c21"><span class="c9">&nbsp; &nbsp; BallLauncher.AssignTroughLauncher(leftLaunchers, VUK_LEFT);</span></p><p class="c29"><span class="c9">}</span></p></td></tr></table><h2 class="c12"><span class="c3">Pop Bumpers</span></h2><p class="c2"><span class="c1">If you play the game now, you will notice the slingshots and pop bumpers are dead. To fix that, you need to add the BumpersMode to the mode queue. The statements are already in P3SampleApp but they are commented out.</span></p><p class="c2"><span class="c1">To enable the pop bumpers, edit P3SABaseGameMode.cs and uncomment these 3 statements.</span></p><p class="c2"><span class="c1">At the top of the class:</span></p><a id="t.25ce7249087fa7728409a111bd830c909218f835"></a><a id="t.7"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c8"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private BumpersMode bumpersMode; //!&lt; Enables/Disables bumpers (slings, pops, etc)</span></p></td></tr></table><p class="c13 c18"><span class="c38"></span></p><p class="c2"><span class="c1">In the constructor:</span></p><a id="t.81379426d6db3e82b46d4fb664fd0df038fea676"></a><a id="t.8"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c8"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bumpersMode = new BumpersMode (p3, Priorities.PRIORITY_UTILITIES);</span></p></td></tr></table><p class="c13 c18"><span class="c38"></span></p><p class="c2"><span class="c1">In mode_started():</span></p><a id="t.db768c1bc0d2b72c815f3ef55a82a843c4d38ade"></a><a id="t.9"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c8"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p3.AddMode (bumpersMode);</span></p></td></tr></table><p class="c7"><span class="c1">The pop bumpers are controlled by sending the Evt_EnableBumpers event, where the event data is: true to enable the pop bumpers, false to disable the pop bumpers. Now that we added the BumpersMode, this event will be handled.</span></p><p class="c7"><span class="c1">The code to send Evt_EnableBumpers is already present in HomeMode. There is nothing more to do.</span></p><p class="c7"><span class="c1">If you are curious, take a look in HomeMode StartPlaying() where the pop bumpers are enabled:</span></p><a id="t.6961930edc4f7e061cd36140391b446884168feb"></a><a id="t.10"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c8"><span class="c14">PostModeEventToModes (&quot;Evt_EnableBumpers&quot;, true);</span></p></td></tr></table><p class="c7"><span class="c1">And take a look in HomeMode DisableFeatures() where the pop bumpers are disabled:</span></p><a id="t.9ec37f1fcc1283000159cde10e6ebdb35aa6956a"></a><a id="t.11"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c8"><span class="c14">PostModeEventToModes (&quot;Evt_EnableBumpers&quot;, false);</span></p></td></tr></table><p class="c7"><span class="c1">The strength of each pop bumper is determined by the settings declared in the Bumpers section of the module definition file. The GameAttributes implementing these settings are created in the module driver. The application inherits those GameAttributes. There is nothing special to do for these GameAttributes.</span></p><p class="c7"><span class="c1">Here is a pop bumper definition found in the WAMONH module definition file. Notice the SettingName that specifies the GameAttribute name. WAMONH chose to share the same GameAttribute for its three pop bumpers.</span></p><a id="t.da555cab5b327431bc859f686f04c66aec1b64ff"></a><a id="t.12"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c11"><span class="c14">&nbsp; &nbsp; {</span></p><p class="c13"><span class="c14">&nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;PopBumperR&quot;,</span></p><p class="c13"><span class="c14">&nbsp; &nbsp; &nbsp; &quot;SwitchName&quot;: &quot;PopBumperR&quot;,</span></p><p class="c13"><span class="c14">&nbsp; &nbsp; &nbsp; &quot;CoilName&quot;: &quot;PopBumperR&quot;,</span></p><p class="c13"><span class="c14">&nbsp; &nbsp; &nbsp; &quot;SettingName&quot;: &quot;PopBumperPulseTime&quot;,</span></p><p class="c13"><span class="c14">&nbsp; &nbsp; &nbsp; &quot;SwitchPolarity&quot;: true,</span></p><p class="c13"><span class="c14">&nbsp; &nbsp; &nbsp; &quot;AllowShotgunning&quot;: true,</span></p><p class="c29"><span class="c14">&nbsp; &nbsp; },</span></p></td></tr></table><h2 class="c12"><span class="c3">Side Targets</span></h2><p class="c2"><span class="c1">SideTargetMode keeps track of which targets were hit and remembers the state between balls played by the same player. Unfortunately, the side targets can only be completed once in P3SampleApp. That&rsquo;s because the handler for the Evt_SideTargetComplete event is missing.</span></p><p class="c2"><span class="c1">To handle the event, edit C:\P3\P3SampleAppAgnostic\Assets\Scripts\Modes\SceneModes\HomeMode.cs and change this code in the HomeMode constructor:</span></p><a id="t.3844f7c60a65c2a208f909e5e79d2e152c466a1c"></a><a id="t.13"></a><table class="c6"><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c8"><span class="c28">// AlienAttack only ends when it is completed. &nbsp;So use the event to call both Completed and Ended Handlers</span></p></td></tr></table><p class="c25"><span class="c1">To:</span></p><a id="t.f16b42b7ecfe12193a4e38277dc158a7948ce992"></a><a id="t.14"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c8"><span class="c28">AddModeEventHandler(&quot;Evt_SideTargetComplete&quot;, SideTargetCompleteEventHandler, Priority);</span></p></td></tr></table><p class="c25"><span class="c1">Add the implementation of SideTargetCompleteEventHandler() somewhere below PopHitEventHandler():</span></p><a id="t.abc496ce473d4c7191c43701a3e2838b53ac9dd9"></a><a id="t.15"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; public bool SideTargetCompleteEventHandler(string eventName, object eventData)</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c24"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; delay(&quot;SideTargetComplete&quot;, NetProc.EventType.None, 2,</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new Multimorphic.P3.VoidDelegateNoArgs(sideTargetMode.start));</span></p><p class="c13"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return EVENT_CONTINUE;</span></p><p class="c29"><span class="c17">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p></td></tr></table><p class="c24 c18"><span class="c17"></span></p><p class="c2"><span class="c1">The delay is needed to make the targets insensitive for a while to avoid hitting the same target twice with one shot.</span></p><p class="c2"><span class="c1">Edit C:\P3\P3SampleAppAgnostic\Assets\Scripts\Modes\GameModes\SideTargetMode.cs and change this statement in LoadPlayerData():</span></p><a id="t.0a3fb250b12d4533eaf73f754ec4c4fc90703d8e"></a><a id="t.16"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c8"><span class="c28">complete = data.currentPlayer.GetData(&quot;SideTargetComplete&quot;, false);</span></p></td></tr></table><p class="c25"><span class="c1">To:</span></p><a id="t.3ec27217313e81af114e7dbcbccaee5cc1394bcc"></a><a id="t.17"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c8"><span class="c28">complete = false;</span></p></td></tr></table><p class="c25"><span class="c1">Also change this statement in SavePlayerData():</span></p><a id="t.791e533b057d7d50a8c1f4446275da3aaf739e72"></a><a id="t.18"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c8"><span class="c28">data.currentPlayer.SaveData(&quot;SideTargetComplete&quot;, complete);</span></p></td></tr></table><p class="c25"><span class="c1">To:</span></p><a id="t.adc115e4ea1de194edc78c61f6612a1068efab18"></a><a id="t.19"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11"><span class="c17">if (complete)</span></p><p class="c29"><span class="c28">&nbsp; &nbsp; ResetStates();</span></p></td></tr></table><p class="c7"><span class="c1">Finally, change the start() method to remove the Difficulty argument, like this:</span></p><a id="t.2b6137c4af55ce4c64222a843ea3c59c2bcb2f99"></a><a id="t.20"></a><table class="c6"><tr class="c20"><td class="c23" colspan="1" rowspan="1"><p class="c11"><span class="c17">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public void start()</span></p><p class="c13"><span class="c17">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c13"><span class="c17">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;complete = false;</span></p><p class="c13"><span class="c17">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResetStates ();</span></p><p class="c13"><span class="c17">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshVisuals();</span></p><p class="c29"><span class="c17">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p></td></tr></table><p class="c7"><span class="c1">Those changes will make sure the side targets reset at the start of the next ball in case the Evt_SideTargetComplete handler did not cause a reset (for example because the ball drained before the delay timer in HomeMode).</span></p><h2 class="c12"><span class="c3">Ball Search</span></h2><p class="c2"><span class="c1">A commercial game developed to run on multiple modules would need a smarter ball search than what is implemented in P3SABaseGameMode.InitBallSearchMode().</span></p><p class="c2"><span class="c1">Notice the 4 switches explicitly listed in that method are part of the base machine: drain, moatInA, moatInB, moatExit. The current ball search might not be smart but it works on all modules, which is good enough for our purposes now.</span></p><h2 class="c30"><span class="c3">Module Specific Game Modes</span></h2><p class="c2"><span class="c1">P3SampleApp comes with a few modes that are tied to the LL-EE module because they use switch names that only exist on LL-EE. For example Multiball or TripleTargetsMode. That&rsquo;s not an issue because these modes are permanently disabled in the application.</span></p><h2 class="c30"><span class="c3">Launcher Media</span></h2><p class="c2"><span class="c1">P3SampleApp comes with a couple extra Main icons that mess up the display of P3SampleApp in the app launcher carrousel. It is better to remove them.</span></p><p class="c24"><span class="c14">del C:\P3\P3SampleAppAgnostic\LauncherMedia\Icons\Main\P3_LauncherIcons_Diagnostics0.png</span></p><p class="c2"><span class="c14">del C:\P3\P3SampleAppAgnostic\LauncherMedia\Icons\Main\P3_LauncherIcons_Diagnostics1.png</span></p><h2 class="c30"><span class="c3">Build the Application</span></h2><p class="c2"><span class="c1">You can install the application on the physical machine with a USB drive or through a network share.</span></p><p class="c2"><span class="c1">Before we can do the installation, we need to build the application package.</span></p><p class="c2"><span class="c1">From the top menu in Unity, select Multimorphic &gt; Package App For Distribution </span></p><p class="c2"><span class="c1">Enter these values:</span></p><p class="c24"><span class="c1">&nbsp; &nbsp; Display Name: P3SampleApp</span></p><p class="c24"><span class="c1">&nbsp; &nbsp; Version: 1.0.0.0</span></p><p class="c24"><span class="c1">&nbsp; &nbsp; Description: Sample Application</span></p><p class="c2"><span class="c1">&nbsp; &nbsp; Compatible Module Ids: Any</span></p><p class="c2"><span class="c1">Leave Feature flags and Tags empty.</span></p><p class="c2"><span class="c1">If deploying with a USB drive, select the option to &ldquo;Copy the package to USB drive&rdquo; and choose your Target drive. If installing through a network share, leave the option unselected.</span></p><p class="c2"><span class="c1">Click Continue.</span></p><p class="c2"><span class="c1">The package is saved in C:\P3\P3SampleAppAgnostic\Packages\P3SampleApp 1.0.0.0.p3p</span></p><p class="c2"><span class="c1">If the USB drive option was selected, another copy is written on the target drive.</span></p><p class="c2"><span class="c1">Remember to clean up the Packages directory if you deploy multiple versions over time. Same for the USB drive, if applicable.</span></p><h2 class="c30"><span class="c3">Install From USB Drive</span></h2><p class="c2"><span class="c1">Follow these instructions if you chose to install with a USB drive.</span></p><ol class="c32 lst-kix_list_3-0 start" start="1"><li class="c24 c16 c26 li-bullet-0"><span class="c1">Be careful to select the operating system option to eject your USB drive safely.</span></li><li class="c24 c16 c26 li-bullet-0"><span class="c1">Plug the USB drive in the USB slot in the lower left corner of the coin door.</span></li><li class="c2 c16 c26 li-bullet-0"><span class="c1">Start the System Manager.</span></li></ol><p class="c16 c24"><span class="c1">Select &ldquo;Install or Update Software&rdquo;.</span></p><p class="c24 c16"><span class="c1">Select &ldquo;From USB Drive&rdquo;.</span></p><p class="c24 c16"><span class="c1">Select the package. For example: P3SampleApp 1.0.0.0.p3p</span></p><p class="c2 c16"><span class="c1">Press the right flipper button for Yes.</span></p><h2 class="c30"><span class="c3">Install From LAN Drive</span></h2><p class="c2"><span class="c1">Alternatively, you can choose to install using an SMB network share. This option is hidden by default to avoid confusing non-developers. For developers, it has the potential to really streamline the development process.</span></p><p class="c2"><span class="c1">To use an SMB network share, you first need to enable the option and configure the login. This needs to be done only once. (Those instructions are for Windows 11. Adjust the instructions for your version of Windows accordingly.)</span></p><ol class="c32 lst-kix_list_2-0 start" start="1"><li class="c2 c16 c26 li-bullet-0"><span class="c1">Create a local user on the computer.</span></li></ol><p class="c2 c16"><span class="c1">In the search bar, type cmd, right click on Command Prompt, select Run as administrator.</span></p><p class="c24 c16"><span class="c1">In the Terminal window, type: net user &lt;username&gt; &lt;password&gt; &nbsp;/add</span></p><p class="c24 c16"><span class="c1">For example: net user p3 changeit &nbsp;/add</span></p><p class="c2 c16"><span class="c1">Choose a better password than changeit.</span></p><ol class="c32 lst-kix_list_2-0" start="2"><li class="c2 c16 c26 li-bullet-0"><span class="c1">Find the IP address of the computer.</span></li></ol><p class="c24 c16"><span class="c1">In the Terminal window, type: ipconfig</span></p><p class="c24 c16"><span class="c1">Find the line that says: IPv4 Address</span></p><p class="c2 c16"><span class="c1">Write down the address, it will look like 192.168.2.10 but with different numbers.</span></p><ol class="c32 lst-kix_list_2-0" start="3"><li class="c7 c16 c26 li-bullet-0"><span class="c1">Create a network share.</span></li></ol><p class="c2 c16"><span class="c1">Create a folder you want to share. For example: c:\P3\P3Share</span></p><p class="c2 c16"><span class="c1">Right click the folder in Windows Explorer, select Properties, select the Sharing tab, click Share&hellip; </span></p><p class="c2 c16"><span class="c1">Type the local user name in the text box. For example, type P3. Click Add. The default permission by is read only which works to install packages. Change the permission to read-write to allow copying logs to the computer later: click on Read and select Read/Write for the P3 user.</span></p><p class="c2 c16"><span class="c1">Click Share.</span></p><p class="c2 c16"><span class="c1">Click Done.</span></p><ol class="c32 lst-kix_list_2-0" start="4"><li class="c7 c16 c26 li-bullet-0"><span class="c1">Start System Manager on the P3 machine.</span></li></ol><p class="c2 c16"><span class="c1">With System Manager running, open the coin door and press the Launch button. The Settings menu appears.</span></p><p class="c2 c16"><span class="c1">Select Developers.</span></p><p class="c2 c22"><span class="c1">Change &ldquo;Allow installs from SMB&rdquo; to Yes</span></p><p class="c2 c22"><span class="c1">Select Login.</span></p><p class="c24 c22"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter the Password.</span></p><p class="c24 c22"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter the computer IP address.</span></p><p class="c24 c22"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter the network share name. For example: P3Share</span></p><p class="c2 c22"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter the user name. For example: P3</span></p><p class="c2 c36"><span class="c1">Exit System Manager. This is important. The settings will take effect the next time you start System Manager.</span></p><p class="c2 c18 c36"><span class="c1"></span></p><p class="c2"><span class="c1">Now that this is done, it is simpler to install new packages.</span></p><ol class="c32 lst-kix_list_4-0 start" start="1"><li class="c16 c26 c43 li-bullet-0"><span class="c1">Copy a package to your shared folder.</span></li></ol><p class="c24 c16"><span class="c1">For example:</span></p><p class="c2 c16"><span class="c1">copy &quot;C:\P3\P3SampleAppAgnostic\Packages\P3SampleApp 1.0.0.0.p3p&quot; &nbsp;c:\P3\P3Share</span></p><ol class="c32 lst-kix_list_4-0" start="2"><li class="c2 c16 c26 li-bullet-0"><span class="c1">Start System Manager on the P3 machine.</span></li></ol><p class="c2 c22"><span class="c1">Select &ldquo;Install or Update Software&rdquo;</span></p><p class="c2 c36"><span class="c1">Select &ldquo;From LAN Drive&rdquo;. You will see a red message if your network share configuration is incorrect or your shared folder is empty. In that case, fix the problem and restart System Manager.</span></p><p class="c2 c22"><span class="c1">Select the package. For example: P3SampleApp 1.0.0.0.p3p</span></p><p class="c2 c22"><span class="c1">Press the right flipper button for Yes.</span></p><p class="c44"><span class="c1">If the network share suddenly stops working after working for several hours or days, verify if the IP address of the computer has changed. This can happen if the lease on the address has expired and the router assigned a different address.</span></p></body></html>
